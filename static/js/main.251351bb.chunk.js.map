{"version":3,"sources":["contants.ts","styles/scroll.ts","styles/GlobalStyles.tsx","context/loggedUser.tsx","styles/breakpoints.ts","components/Header.ts","components/Footer/Footer.elements.ts","components/Footer/Footer.tsx","components/NavBar/NavBar.elements.ts","components/Button.ts","components/NavBar/NavBar.tsx","components/Center.ts","components/Modal.tsx","components/Avatar.tsx","components/Input.ts","pages/Chats/components/Chat.elements.ts","utils/socket.ts","pages/Chats/components/Chat.tsx","pages/teachers/components/Teacher.elements.ts","components/Rate/WriteRate.tsx","pages/Chats/components/User.tsx","pages/Chats/components/UserList.elements.ts","pages/Chats/components/UserList.tsx","pages/Chats/Chats.elements.ts","pages/Chats/Chats.tsx","pages/hero/components/Nav.ts","pages/hero/components/BigButton.ts","pages/hero/Hero.tsx","pages/login/Elements.ts","pages/login/Template.tsx","hooks/useForm.ts","utils/functions.ts","pages/login/Login.tsx","components/StyledSelect.tsx","pages/login/Register.tsx","pages/profile/Profile.elements.ts","pages/profile/Profile.tsx","components/Rate/Rate.elements.ts","components/Rate/Rate.tsx","pages/rates/Rates.tsx","pages/teachers/components/Teacher.tsx","pages/teachers/components/TeacherList.elements.ts","components/Rate/RatesPopup.tsx","pages/teachers/components/TeacherList.tsx","pages/teachers/Teachers.tsx","components/AnimatedRouter.tsx","components/App.tsx","index.tsx"],"names":["SUBJECTS","AVATARS","scrollY","GlobalStyles","styles","css","loggedUserContext","createContext","user","token","setUser","setToken","LoggedUserProvider","children","useState","useEffect","localToken","localStorage","getItem","decoded","decode","setItem","removeItem","Provider","value","breakpoints","Header1","styled","h1","Header2","h2","Header3","SmallHeader","h5","Container","div","Footer","className","style","letterSpacing","textAlign","marginBottom","width","marginTop","Nav","nav","Button","button","props","secondary","NavBar","useContext","history","useHistory","onClick","push","to","Center","Background","Card","Modal","close","e","stopPropagation","active","GridList","Avatar","id","size","sizes","md","lg","minWidth","minHeight","src","alt","AvatarSelector","avatarSelect","avatars","i","map","avatar","renderAvatars","Input","input","warn","InputIcon","Top","Messages","ul","Message","p","mine","StyledInput","Bottom","form","socket","io","process","REACT_APP_SERVER_URL","Chat","firstName","lastName","avatarId","roomId","messages","setMessages","message","setMessage","ref","useRef","emit","on","msg","prev","axios","get","headers","Authorization","then","res","data","current","scrollTo","top","scrollHeight","off","length","from","_id","behavior","marginLeft","userType","TransitionGroup","component","messageArr","index","CSSTransition","classNames","timeout","onSubmit","preventDefault","post","onChange","target","type","SubjectList","Rating","ModalHeading","Invite","textarea","WriteRate","text","setText","stars","setStars","maxWidth","teacherId","console","log","status","error","toast","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","success","Array","keys","height","cursor","color","transition","StyledSubjectList","RateBtn","User","price","subjects","setCurrentChat","handleDeleteUserChat","email","wallet","rate","writeRate","setWriteRate","subject","toUpperCase","slice","margin","in","unmountOnExit","List","UserList","chat","search","setSearch","users","setUsers","ids","split","includes","userId","FEMALE_1","secondId","filter","userArr","forEach","delete","placeholder","teacher","toLowerCase","Img","img","Chats","setChat","SwitchTransition","BigButton","Hero","handleRegisterButton","marginRight","paddingBottom","BackBtnSm","BackBtn","Price","Double","SelectContainer","Template","useForm","initialState","newState","Object","entries","key","checked","formData","setFormData","name","bool","required","fields","isValid","tempObj","field","validateEmail","test","Login","pass","toggleChecked","handleInputChange","checkValidity","noValidate","password","catch","err","StyledSelect","theme","colors","primary","primary25","SelectSubjects","MATH","label","CHEMISTRY","PHYSICS","POLISH","ENGLISH","BIOLOGY","FRENCH","INFORMATIC","SPANISH","GERMAN","HISTORY","GEOGRAPHIC","imAoptions","Register","fName","lName","confPass","imA","setImA","help","setHelp","setAvatarId","avatarSetter","setAvatarSetter","valid","setValid","setPrice","makeBigLetter","oldString","substr","handleSubmitForm","handleAvatarSelect","handleRegister","connected","mode","flex","options","htmlFor","parseFloat","isMulti","disabled","Flex","Right","StyledCenter","Profile","setFName","setLName","setEmail","emailWarn","setEmailWarn","fWarn","setFWarn","lWarn","setLWarn","updateUser","patch","justifyContent","val","subjectsUpd","Rate","Rates","rates","setRates","tempUser","setTempUser","Teacher","deleteFromList","seeRates","opened","setOpened","NotFound","RatesPopup","values","unshift","TeacherList","setActive","teachers","setTeachers","found","setFound","setSeeRates","selectedTeacher","setSelectedTeacher","res1","toSet","isReturn","teacher1","handleActiveClick","tempR","act","handleSeeRates","tempAct","renderSubjects","tempTeachers","ret","renderTeachers","StyledInIcon","Teachers","tempSearch","setTempSearch","padding","AnimatedRouter","location","useLocation","window","pathname","exact","path","App","root","document","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.251351bb.chunk.js","sourcesContent":["export enum SUBJECTS {\r\n  MATH = 'math',\r\n  CHEMISTRY = 'chemistry',\r\n  PHYSICS = 'physics',\r\n  POLISH = 'polish',\r\n  ENGLISH = 'english',\r\n  BIOLOGY = 'biology',\r\n  FRENCH = 'french',\r\n  INFORMATIC = 'informatic',\r\n  SPANISH = 'spanish',\r\n  GERMAN = 'german',\r\n  HISTORY = 'history',\r\n  GEOGRAPHIC = 'geographic',\r\n}\r\n\r\nexport enum AVATARS {\r\n  FEMALE_1 = 'female_1',\r\n  FEMALE_2 = 'female_2',\r\n  FEMALE_3 = 'female_3',\r\n  FEMALE_4 = 'female_4',\r\n  FEMALE_5 = 'female_5',\r\n  FEMALE_6 = 'female_6',\r\n  MALE_1 = 'male_1',\r\n  MALE_2 = 'male_2',\r\n  MALE_3 = 'male_3',\r\n  MALE_4 = 'male_4',\r\n  MALE_5 = 'male_5',\r\n  MALE_6 = 'male_6',\r\n}\r\n","export const scrollY = `\r\n::-webkit-scrollbar {\r\n  width: 1rem;\r\n  border: none;\r\n}\r\n\r\n::-webkit-scrollbar-thumb {\r\n  background-color: var(--color-gray-dark);\r\n  border-radius: 5rem;\r\n}\r\n`;\r\n","import { css, Global } from '@emotion/react';\r\nimport { scrollY } from './scroll';\r\n\r\nexport const GlobalStyles = () => (\r\n  <Global\r\n    styles={css`\r\n      *,\r\n      *::after,\r\n      *::before {\r\n        margin: 0;\r\n        padding: 0;\r\n        box-sizing: inherit;\r\n        font-family: 'Montserrat', sans-serif;\r\n        transition: var(---trans-default);\r\n      }\r\n\r\n      body {\r\n        margin: 0;\r\n        padding: 0;\r\n        font-size: 1.6rem;\r\n        font-family: 'Montserrat', sans-serif;\r\n        box-sizing: border-box;\r\n        transition: all 0.3s;\r\n\r\n        ${scrollY}\r\n      }\r\n\r\n      html {\r\n        font-size: 62.5%;\r\n      }\r\n\r\n      :root {\r\n        // COLORS\r\n        --color-yellow: #ffc526;\r\n        --color-gray: #cbd5e0;\r\n        --color-gray-lighter: #fafafa;\r\n        --color-gray-light: #fcfcfc;\r\n        --color-gray-dark: #343434;\r\n        --color-black: #222;\r\n        --color-white: #fff;\r\n        --color-red: #e53e3e;\r\n\r\n        // TRANSITIONS\r\n        --trans-default: all 0.2s ease;\r\n        --trans-long: all 0.7s ease;\r\n\r\n        // SHADOWS\r\n        --shadow-default: 0px 5px 30px 2px rgba(0, 0, 0, 0.2);\r\n      }\r\n    `}\r\n  />\r\n);\r\n","import { createContext, FC, useEffect, useState } from 'react';\r\nimport decode from 'jwt-decode';\r\n\r\nexport const loggedUserContext = createContext<{\r\n  user: UserType | null;\r\n  token: string | null;\r\n  setUser: React.Dispatch<React.SetStateAction<UserType | null>>;\r\n  setToken: React.Dispatch<React.SetStateAction<string | null>>;\r\n}>({ user: null, token: null, setUser: () => {}, setToken: () => {} });\r\n\r\nconst LoggedUserProvider: FC = ({ children }) => {\r\n  const [user, setUser] = useState<UserType | null>(null);\r\n  const [token, setToken] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    const localToken = localStorage.getItem('token');\r\n\r\n    if (localToken) {\r\n      const decoded = decode(localToken) as {\r\n        iat: number;\r\n        user: UserType;\r\n      };\r\n      setToken(localToken);\r\n      decoded && setUser(decoded.user);\r\n    }\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (token) {\r\n      localStorage.setItem('token', token);\r\n      const decoded = decode(token) as {\r\n        iat: number;\r\n        user: UserType;\r\n      };\r\n      decoded && setUser(decoded.user);\r\n    } else {\r\n      localStorage.removeItem('token');\r\n      setUser(null);\r\n    }\r\n  }, [token]);\r\n\r\n  return (\r\n    <loggedUserContext.Provider value={{ user, token, setUser, setToken }}>\r\n      {children}\r\n    </loggedUserContext.Provider>\r\n  );\r\n};\r\n\r\nexport default LoggedUserProvider;\r\n","export const breakpoints = {\r\n  xl: '118.75rem',\r\n  lg: '87.5rem',\r\n  md: '68.75rem',\r\n  sm: '56.25rem',\r\n};\r\n","import styled from '@emotion/styled';\r\nimport { breakpoints } from '../styles/breakpoints';\r\n\r\nexport const Header1 = styled.h1`\r\n  font-weight: 500;\r\n  font-size: 4rem;\r\n  text-align: center;\r\n\r\n  @media screen and (max-width: ${breakpoints.sm}) {\r\n    font-size: 3rem;\r\n  }\r\n`;\r\n\r\nexport const Header2 = styled.h2`\r\n  font-weight: 500;\r\n  font-size: 3rem;\r\n  text-align: center;\r\n\r\n  @media screen and (max-width: ${breakpoints.sm}) {\r\n    font-size: 2.5rem;\r\n  }\r\n`;\r\n\r\nexport const Header3 = styled.h1`\r\n  font-weight: 500;\r\n  font-size: 2rem;\r\n  text-align: center;\r\n`;\r\n\r\nexport const SmallHeader = styled.h5`\r\n  color: var(--color-gray);\r\n  font-weight: 500;\r\n  font-size: 1.5rem;\r\n  text-align: center;\r\n`;\r\n","import styled from '@emotion/styled';\r\nimport { breakpoints } from '../../styles/breakpoints';\r\n\r\nexport const Container = styled.div`\r\n  width: 100%;\r\n  height: 20rem;\r\n  background-color: var(--color-gray-light);\r\n  padding: 3rem 15rem;\r\n\r\n  @media screen and (max-width: ${breakpoints.sm}) {\r\n    display: none;\r\n  }\r\n\r\n  .flex {\r\n    display: flex;\r\n    margin-right: 10rem;\r\n    justify-content: space-between;\r\n  }\r\n`;\r\n","import { FC } from 'react';\r\n\r\nimport { AiFillInstagram, AiOutlineTwitter } from 'react-icons/ai';\r\nimport { BsFacebook } from 'react-icons/bs';\r\n\r\nimport { Header3, SmallHeader } from '../Header';\r\nimport { Container } from './Footer.elements';\r\n\r\nconst Footer: FC = () => {\r\n  return (\r\n    <Container>\r\n      <div className=\"flex\">\r\n        <div>\r\n          <Header3\r\n            style={{\r\n              letterSpacing: '3px',\r\n              textAlign: 'left',\r\n              marginBottom: '.5rem',\r\n            }}\r\n          >\r\n            KOREK\r\n          </Header3>\r\n          <SmallHeader\r\n            style={{\r\n              textAlign: 'left',\r\n            }}\r\n          >\r\n            Application to make students <br /> knowledge better\r\n          </SmallHeader>\r\n          <div className=\"flex\" style={{ width: '10rem', marginTop: '1rem' }}>\r\n            <AiFillInstagram />\r\n            <BsFacebook />\r\n            <AiOutlineTwitter />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"flex\" style={{ marginTop: '4rem', width: '100%' }}>\r\n        <SmallHeader>Copyright &copy; 2021 HackHeroes</SmallHeader>\r\n        <SmallHeader>Powered by Us</SmallHeader>\r\n      </div>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","import styled from '@emotion/styled';\r\nimport { breakpoints } from '../../styles/breakpoints';\r\n\r\nexport const Nav = styled.nav`\r\n  display: flex;\r\n  padding: 5rem 10rem;\r\n  margin-bottom: 12rem;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n\r\n  h3 {\r\n    letter-spacing: 0.5rem;\r\n    font-size: 3.5rem;\r\n    font-weight: 300;\r\n    cursor: pointer;\r\n  }\r\n\r\n  ul {\r\n    list-style: none;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    width: 45rem;\r\n\r\n    @media screen and (max-width: ${breakpoints.sm}) {\r\n      width: 35rem;\r\n    }\r\n\r\n    a {\r\n      text-decoration: underline;\r\n      text-decoration-color: transparent;\r\n      color: var(--color-black);\r\n      transition: var(--trans-default);\r\n      font-weight: 500;\r\n\r\n      :hover {\r\n        text-decoration-color: var(--color-black);\r\n      }\r\n    }\r\n  }\r\n`;\r\n","import styled from '@emotion/styled';\r\n\r\nexport const Button = styled.button<{ secondary?: boolean }>`\r\n  background-color: ${props =>\r\n    props.secondary ? 'var(--color-white)' : 'var(--color-yellow)'};\r\n  border-radius: 0.5rem;\r\n  border: 2px solid var(--color-yellow);\r\n  padding: 0.7rem 2rem;\r\n  font-size: 1.7rem;\r\n  color: ${props =>\r\n    !props.secondary ? 'var(--color-white)' : 'var(--color-yellow)'};\r\n\r\n  transition: var(--trans-default);\r\n\r\n  :disabled {\r\n    opacity: 0.3;\r\n    :hover {\r\n      cursor: not-allowed;\r\n    }\r\n  }\r\n\r\n  :hover:not(:disabled) {\r\n    cursor: pointer;\r\n\r\n    background-color: ${props =>\r\n      !props.secondary ? 'var(--color-white)' : 'var(--color-yellow)'};\r\n\r\n    color: ${props =>\r\n      props.secondary ? 'var(--color-white)' : 'var(--color-yellow)'};\r\n  }\r\n\r\n  :active {\r\n    background-color: ${props =>\r\n      props.secondary ? 'var(--color-white)' : 'var(--color-yellow)'};\r\n\r\n    color: ${props =>\r\n      !props.secondary ? 'var(--color-white)' : 'var(--color-yellow)'};\r\n  }\r\n`;\r\n","import { FC, useContext } from 'react';\r\n\r\nimport { Link, useHistory } from 'react-router-dom';\r\n\r\nimport { Nav } from './NavBar.elements';\r\nimport { Button } from '../Button';\r\nimport { loggedUserContext } from '../../context/loggedUser';\r\n\r\nconst NavBar: FC = () => {\r\n  const { user } = useContext(loggedUserContext);\r\n\r\n  const history = useHistory();\r\n\r\n  return (\r\n    <Nav>\r\n      <h3 onClick={() => history.push('/')}>KOREK</h3>\r\n      <ul>\r\n        <li>\r\n          <Link to=\"/\">Chats</Link>\r\n        </li>\r\n        <li>\r\n          <Link to=\"/discover\">Discover</Link>\r\n        </li>\r\n        <li>\r\n          <Link to=\"/wallet\">Wallet</Link>\r\n        </li>\r\n        <li>\r\n          <Button onClick={() => history.push('profile')}>Profile</Button>\r\n        </li>\r\n      </ul>\r\n    </Nav>\r\n  );\r\n};\r\n\r\nexport default NavBar;\r\n","import styled from '@emotion/styled';\r\n\r\nexport const Center = styled.div`\r\n  display: flex;\r\n  width: 100%;\r\n  justify-content: center;\r\n  height: 100%;\r\n  align-items: center;\r\n`;\r\n","import { FC } from 'react';\r\n\r\nimport styled from '@emotion/styled';\r\n\r\nimport { Center } from './Center';\r\n\r\nconst Background = styled.div`\r\n  position: fixed;\r\n  width: 100%;\r\n  height: 100%;\r\n  top: 0;\r\n  left: 0;\r\n  z-index: 100;\r\n  background-color: rgba(0, 0, 0, 0.7);\r\n`;\r\n\r\nconst Card = styled.div`\r\n  width: 60rem;\r\n  min-height: 40rem;\r\n  background-color: var(--color-white);\r\n  border-radius: 3rem;\r\n  padding: 4rem 5rem;\r\n`;\r\n\r\nconst Modal: FC<{ close: () => void; children: JSX.Element }> = ({\r\n  close,\r\n  children,\r\n}) => {\r\n  return (\r\n    <Background onClick={close}>\r\n      <Center>\r\n        <Card onClick={e => e.stopPropagation()}>{children}</Card>\r\n      </Center>\r\n    </Background>\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n","import { FC } from 'react';\r\n\r\nimport styled from '@emotion/styled';\r\n\r\nimport { Center } from './Center';\r\nimport { Header2 } from './Header';\r\nimport Modal from './Modal';\r\nimport { AVATARS } from '../contants';\r\n\r\nconst Container = styled.div<{ active?: boolean }>`\r\n  width: 6rem;\r\n  height: 6rem;\r\n  border-radius: 50%;\r\n  overflow: hidden;\r\n  transition: var(--trans-default);\r\n  background-color: ${props =>\r\n    props.active ? 'var(--color-gray)' : 'transparent'};\r\n\r\n  :hover {\r\n    cursor: pointer;\r\n    background-color: var(--color-gray);\r\n  }\r\n\r\n  :active {\r\n    background-color: transparent;\r\n  }\r\n`;\r\n\r\nconst GridList = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(4, 1fr);\r\n  grid-template-rows: repeat(3, 1fr);\r\n  gap: 3.5rem;\r\n`;\r\n\r\ntype Sizes = {\r\n  [key: string]: string;\r\n};\r\n\r\nconst Avatar: FC<{ id: AVATARS; size?: string }> = ({ id, size = 'md' }) => {\r\n  const sizes: Sizes = {\r\n    md: '',\r\n    lg: '15rem',\r\n  };\r\n\r\n  return (\r\n    <Container style={{ minWidth: sizes[size], minHeight: sizes[size] }}>\r\n      <img src={`/images/${id}.svg`} alt=\"Avatar\" />\r\n    </Container>\r\n  );\r\n};\r\n\r\nconst AvatarSelector: FC<{\r\n  id: AVATARS;\r\n  avatarSelect: (id: AVATARS) => void;\r\n  close: () => void;\r\n}> = ({ id, avatarSelect, close }) => {\r\n  const renderAvatars = (): JSX.Element[] => {\r\n    const avatars = [];\r\n\r\n    for (let i = 1; i <= 6; i++) {\r\n      avatars.push(<Avatar id={(AVATARS as any)[`FEMALE_${i}`]}></Avatar>);\r\n    }\r\n\r\n    for (let i = 1; i <= 6; i++) {\r\n      avatars.push(<Avatar id={(AVATARS as any)[`MALE_${i}`]}></Avatar>);\r\n    }\r\n\r\n    return avatars.map(avatar => {\r\n      return (\r\n        <Container\r\n          active={avatar.props.id === id ? true : false}\r\n          onClick={() => avatarSelect(avatar.props.id)}\r\n          key={avatar.props.id}\r\n        >\r\n          {avatar}\r\n        </Container>\r\n      );\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Modal close={close}>\r\n      <>\r\n        <Header2 style={{ marginBottom: '2rem' }}>Select Avatar</Header2>\r\n        <Center>\r\n          <GridList>{renderAvatars()}</GridList>\r\n        </Center>\r\n      </>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport { Avatar, AvatarSelector };\r\n","import styled from '@emotion/styled';\r\n\r\nexport const Input = styled.input<{ warn?: boolean }>`\r\n  background-color: var(--color-gray-lighter);\r\n  padding: 1.5rem 3rem;\r\n  color: var(--color-gray-dark);\r\n  font-weight: 500;\r\n  width: 100%;\r\n  font-size: 1.5rem;\r\n  border-radius: 0.5rem;\r\n  display: block;\r\n  border: ${props =>\r\n    props.warn ? '2px var(--color-red) solid' : '2px transparent solid'};\r\n`;\r\n\r\nexport const InputIcon = styled.div`\r\n  position: relative;\r\n\r\n  svg {\r\n    position: absolute;\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n    left: 2rem;\r\n    width: 2rem;\r\n    height: 2rem;\r\n  }\r\n\r\n  input {\r\n    padding-left: 5rem;\r\n  }\r\n`;\r\n","import styled from '@emotion/styled';\r\nimport { Input } from '../../../components/Input';\r\nimport { breakpoints } from '../../../styles/breakpoints';\r\nimport { scrollY } from '../../../styles/scroll';\r\n\r\nexport const Container = styled.div`\r\n  flex: 1;\r\n  @media screen and (max-width: ${breakpoints.sm}) {\r\n    position: absolute;\r\n    width: 80vw;\r\n    left: 64%;\r\n    transform: translateX(-50%);\r\n  }\r\n`;\r\n\r\nexport const Top = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  button {\r\n    margin-left: 2rem;\r\n    width: 15rem;\r\n  }\r\n`;\r\n\r\nexport const Messages = styled.ul`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  height: 60vh;\r\n  padding-right: 2rem;\r\n  margin-top: 5rem;\r\n  overflow-y: scroll;\r\n\r\n  ${scrollY}\r\n`;\r\n\r\nexport const Message = styled.p<{ mine?: boolean }>`\r\n  background-color: ${({ mine }) =>\r\n    mine ? 'var(--color-yellow)' : 'var(--color-gray-lighter)'};\r\n  color: ${({ mine }) => (mine ? 'var(--color-white)' : 'var(--color-black)')};\r\n  border-radius: 2rem;\r\n  min-width: 5rem;\r\n  width: max-content;\r\n  max-width: 50rem;\r\n  height: fit-content;\r\n  padding: 2rem;\r\n  font-weight: 500;\r\n  align-self: ${({ mine }) => (mine ? 'flex-end' : 'flex-start')};\r\n\r\n  :not(:last-child) {\r\n    margin-bottom: 2rem;\r\n  }\r\n`;\r\n\r\nexport const StyledInput = styled(Input)`\r\n  border-radius: 2rem;\r\n`;\r\n\r\nexport const Bottom = styled.form`\r\n  display: flex;\r\n  margin-top: 5rem;\r\n  button {\r\n    margin-left: 2rem;\r\n    width: 15rem;\r\n  }\r\n`;\r\n","import { io } from 'socket.io-client';\r\n\r\nexport const socket = io(process.env.REACT_APP_SERVER_URL || '');\r\n","import React, { FC, useContext, useEffect, useRef, useState } from 'react';\r\n\r\nimport axios from 'axios';\r\nimport { CSSTransition, TransitionGroup } from 'react-transition-group';\r\n\r\nimport { Avatar } from '../../../components/Avatar';\r\nimport { Button } from '../../../components/Button';\r\nimport { Header3 } from '../../../components/Header';\r\nimport {\r\n  Bottom,\r\n  Container,\r\n  Message,\r\n  Messages,\r\n  StyledInput,\r\n  Top,\r\n} from './Chat.elements';\r\nimport '../../../styles/animations.css';\r\nimport { CurrentChat } from '../Chats';\r\nimport { loggedUserContext } from '../../../context/loggedUser';\r\nimport { socket } from '../../../utils/socket';\r\n\r\nconst { REACT_APP_SERVER_URL } = process.env;\r\n\r\nconst Chat: FC<CurrentChat> = ({ firstName, lastName, avatarId, roomId }) => {\r\n  const { user, token } = useContext(loggedUserContext);\r\n\r\n  const [messages, setMessages] = useState<MessageType[]>([]);\r\n  const [message, setMessage] = useState('');\r\n  const ref = useRef<HTMLUListElement>(null);\r\n\r\n  useEffect(() => {\r\n    if (token) {\r\n      socket.emit('joinRoom', roomId);\r\n\r\n      socket.on('receive', (msg: MessageType) => {\r\n        setMessages(prev => [...prev, msg]);\r\n      });\r\n\r\n      axios\r\n        .get<MessageType[]>(`${REACT_APP_SERVER_URL}/messages/${roomId}`, {\r\n          headers: {\r\n            Authorization: token,\r\n          },\r\n        })\r\n        .then(res => {\r\n          setMessages(res.data);\r\n\r\n          ref.current?.scrollTo({\r\n            top: ref.current.scrollHeight,\r\n          });\r\n        });\r\n    }\r\n\r\n    return () => {\r\n      socket.off('receive');\r\n    };\r\n  }, [roomId, user, token]);\r\n\r\n  useEffect(() => {\r\n    messages.length &&\r\n      messages[messages.length - 1].from === user?._id &&\r\n      ref.current?.scrollTo({\r\n        top: ref.current.scrollHeight,\r\n        behavior: 'smooth',\r\n      });\r\n  }, [messages, user?._id]);\r\n\r\n  const handleSendMessage = (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n    if (!message) return;\r\n    socket.emit('send', {\r\n      roomId,\r\n      message,\r\n      from: user?._id,\r\n    });\r\n    token &&\r\n      axios.post(\r\n        `${REACT_APP_SERVER_URL}/messages`,\r\n        {\r\n          roomId,\r\n          message,\r\n        },\r\n        {\r\n          headers: {\r\n            Authorization: token,\r\n          },\r\n        }\r\n      );\r\n    setMessage('');\r\n  };\r\n\r\n  const renderMessages = (): JSX.Element[] => {\r\n    return messages.map((messageArr, index) => {\r\n      return (\r\n        <CSSTransition key={index} classNames=\"slide\" timeout={200}>\r\n          <Message mine={messageArr.from === user?._id}>\r\n            {messageArr.message}\r\n          </Message>\r\n        </CSSTransition>\r\n      );\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <Top>\r\n        <Avatar id={avatarId} />\r\n        <Header3 style={{ marginLeft: '1rem' }}>\r\n          {firstName} {lastName}\r\n        </Header3>\r\n        <Button>Enter room</Button>\r\n        {user?.userType === 'student' && <Button secondary>Pay</Button>}\r\n      </Top>\r\n      <div style={{ width: '80%' }}>\r\n        <Messages ref={ref}>\r\n          <TransitionGroup component={null}>{renderMessages()}</TransitionGroup>\r\n        </Messages>\r\n        <Bottom onSubmit={handleSendMessage}>\r\n          <StyledInput\r\n            value={message}\r\n            onChange={e => setMessage(e.target.value)}\r\n          />\r\n          <Button type=\"submit\">Send</Button>\r\n        </Bottom>\r\n      </div>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Chat;\r\n","import styled from '@emotion/styled';\r\n\r\nexport const Container = styled.div`\r\n  background-color: var(--color-gray-light);\r\n  border-radius: 0.5rem;\r\n  padding: 2rem;\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n`;\r\n\r\nexport const SubjectList = styled.ul`\r\n  list-style: none;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  width: 18rem;\r\n  margin-top: 1rem;\r\n  align-items: center;\r\n  justify-content: center;\r\n\r\n  li {\r\n    color: var(--color-gray);\r\n\r\n    :not(:last-child)::after {\r\n      content: ', ';\r\n      white-space: pre;\r\n    }\r\n  }\r\n`;\r\n\r\nexport const Rating = styled.div`\r\n  display: flex;\r\n  margin: 2rem 0;\r\n  align-items: center;\r\n  cursor: pointer;\r\n\r\n  svg {\r\n    color: var(--color-yellow);\r\n    width: 3rem;\r\n    height: 3rem;\r\n  }\r\n`;\r\n\r\nexport const ModalHeading = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n`;\r\n\r\nexport const Invite = styled.textarea`\r\n  resize: none;\r\n  background-color: var(--color-gray-lighter);\r\n  border: none;\r\n  height: 15rem;\r\n  margin: 1rem 0;\r\n  padding: 1.5rem 3rem;\r\n  color: var(--color-gray-dark);\r\n  font-weight: 500;\r\n  width: 100%;\r\n  font-size: 1.5rem;\r\n  border-radius: 0.5rem;\r\n  display: block;\r\n\r\n  ::-webkit-scrollbar {\r\n    width: 1rem;\r\n    border: none;\r\n  }\r\n\r\n  ::-webkit-scrollbar-thumb {\r\n    background-color: var(--color-gray-dark);\r\n    border-radius: 5rem;\r\n  }\r\n`;\r\n","import React, { FC, useContext, useState } from 'react';\r\n\r\nimport { AiFillStar } from 'react-icons/ai';\r\nimport axios from 'axios';\r\nimport { toast } from 'react-toastify';\r\n\r\nimport {\r\n  Invite,\r\n  ModalHeading,\r\n} from '../../pages/teachers/components/Teacher.elements';\r\nimport { Avatar } from '../Avatar';\r\nimport { Button } from '../Button';\r\nimport { Center } from '../Center';\r\nimport { Header3 } from '../Header';\r\nimport Modal from '../Modal';\r\nimport { loggedUserContext } from '../../context/loggedUser';\r\n\r\nconst { REACT_APP_SERVER_URL } = process.env;\r\n\r\ninterface WriteRateProps extends UserType {\r\n  close: () => void;\r\n}\r\n\r\nconst WriteRate: FC<WriteRateProps> = ({\r\n  avatarId,\r\n  _id,\r\n  firstName,\r\n  lastName,\r\n  close,\r\n}) => {\r\n  const { token } = useContext(loggedUserContext);\r\n\r\n  const [text, setText] = useState('');\r\n  const [stars, setStars] = useState(0);\r\n\r\n  const err = () =>\r\n    toast.error('You already wrote rate about this teacher!', {\r\n      position: 'top-center',\r\n      autoClose: 10000,\r\n      hideProgressBar: false,\r\n      closeOnClick: true,\r\n      pauseOnHover: true,\r\n      draggable: true,\r\n      progress: undefined,\r\n    });\r\n\r\n  const success = () =>\r\n    toast.success('Rate sent!', {\r\n      position: 'top-center',\r\n      autoClose: 10000,\r\n      hideProgressBar: false,\r\n      closeOnClick: true,\r\n      pauseOnHover: true,\r\n      draggable: true,\r\n      progress: undefined,\r\n    });\r\n\r\n  const handleSendRate = (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n\r\n    if (token && stars) {\r\n      axios\r\n        .post<{ error?: string }>(\r\n          `${REACT_APP_SERVER_URL}/rates`,\r\n          {\r\n            teacherId: _id,\r\n            stars: stars,\r\n            message: text,\r\n          },\r\n          {\r\n            headers: {\r\n              Authorization: token,\r\n            },\r\n          }\r\n        )\r\n        .then(res => {\r\n          close();\r\n          console.log(res.status);\r\n          if (res.data.error === 'You already created rate for this teacher.')\r\n            err();\r\n          else success();\r\n        });\r\n    }\r\n  };\r\n\r\n  const renderStars = (): JSX.Element[] => {\r\n    const arr = Array.from(Array(5).keys());\r\n\r\n    return arr.map((e, index) => {\r\n      return (\r\n        <AiFillStar\r\n          key={index}\r\n          style={{\r\n            width: '3rem',\r\n            height: '3rem',\r\n            cursor: 'pointer',\r\n            color:\r\n              index + 1 <= stars ? 'var(--color-yellow)' : 'var(--color-black)',\r\n            transition: 'var(--trans-default)',\r\n          }}\r\n          onClick={() => setStars(index + 1)}\r\n        />\r\n      );\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Modal close={close}>\r\n      <>\r\n        <ModalHeading>\r\n          <Avatar id={avatarId} />\r\n          <Header3 style={{ marginTop: '1rem', maxWidth: '18rem' }}>\r\n            {firstName} {lastName}\r\n          </Header3>\r\n        </ModalHeading>\r\n        <form onSubmit={handleSendRate}>\r\n          <Center style={{ marginBottom: '1rem', marginTop: '1rem' }}>\r\n            {renderStars()}\r\n          </Center>\r\n\r\n          <Invite value={text} onChange={e => setText(e.target.value)} />\r\n          <Button style={{ width: '100%' }} type=\"submit\" onClick={() => {}}>\r\n            Send\r\n          </Button>\r\n        </form>\r\n      </>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default WriteRate;\r\n","import { FC, useContext, useState } from 'react';\r\n\r\nimport styled from '@emotion/styled';\r\nimport { BsFillPencilFill } from 'react-icons/bs';\r\nimport { CSSTransition } from 'react-transition-group';\r\n\r\nimport { Avatar } from '../../../components/Avatar';\r\nimport { Button } from '../../../components/Button';\r\nimport { Header3 } from '../../../components/Header';\r\nimport {\r\n  Container,\r\n  SubjectList,\r\n} from '../../teachers/components/Teacher.elements';\r\nimport { loggedUserContext } from '../../../context/loggedUser';\r\nimport '../../../styles/animations.css';\r\nimport WriteRate from '../../../components/Rate/WriteRate';\r\nimport { CurrentChat } from '../Chats';\r\n\r\nconst StyledSubjectList = styled(SubjectList)`\r\n  li {\r\n    margin: 0;\r\n  }\r\n`;\r\n\r\nconst RateBtn = styled.button`\r\n  border: none;\r\n  background-color: transparent;\r\n  cursor: pointer;\r\n  position: absolute;\r\n  top: 2rem;\r\n  right: 2rem;\r\n\r\n  transition: var(--trans-default);\r\n\r\n  :hover {\r\n    svg {\r\n      width: 2.2rem;\r\n      height: 2.2rem;\r\n    }\r\n  }\r\n\r\n  svg {\r\n    transition: var(--trans-default);\r\n    width: 2rem;\r\n    height: 2rem;\r\n  }\r\n`;\r\n\r\ninterface UserProps extends UserType {\r\n  setCurrentChat: React.Dispatch<React.SetStateAction<CurrentChat>>;\r\n  handleDeleteUserChat: (_id: string) => void;\r\n  chat: CurrentChat;\r\n}\r\n\r\nconst User: FC<UserProps> = ({\r\n  avatarId,\r\n  firstName,\r\n  lastName,\r\n  price,\r\n  _id,\r\n  subjects,\r\n  setCurrentChat,\r\n  handleDeleteUserChat,\r\n  email,\r\n  wallet,\r\n  rate,\r\n}) => {\r\n  const { user } = useContext(loggedUserContext);\r\n\r\n  const [writeRate, setWriteRate] = useState(false);\r\n\r\n  const renderSubjects = (): JSX.Element[] => {\r\n    return subjects.map(subject => {\r\n      return (\r\n        <li key={subject}>\r\n          {subject[0].toUpperCase()}\r\n          {subject.slice(1)}\r\n        </li>\r\n      );\r\n    });\r\n  };\r\n\r\n  const handleSetCurrentChat = () => {\r\n    setCurrentChat({\r\n      avatarId,\r\n      firstName,\r\n      lastName,\r\n      roomId:\r\n        user?.userType === 'teacher'\r\n          ? user._id + '_' + _id\r\n          : _id + '_' + user?._id,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Container style={{ position: 'relative' }}>\r\n      {user?.userType === 'student' && (\r\n        <RateBtn onClick={() => setWriteRate(true)}>\r\n          <BsFillPencilFill />\r\n        </RateBtn>\r\n      )}\r\n\r\n      <Avatar id={avatarId} />\r\n      <Header3 style={{ marginTop: '1rem', maxWidth: '18rem' }}>\r\n        {firstName} {lastName}\r\n      </Header3>\r\n      <StyledSubjectList>{renderSubjects()}</StyledSubjectList>\r\n\r\n      {user?.userType === 'student' && (\r\n        <Header3 style={{ marginTop: '1rem' }}>{price}$ / h</Header3>\r\n      )}\r\n      <Button\r\n        style={{ width: '100%', margin: '1rem 0' }}\r\n        onClick={handleSetCurrentChat}\r\n      >\r\n        Chat\r\n      </Button>\r\n      <Button\r\n        style={{ width: '100%' }}\r\n        secondary\r\n        onClick={() => handleDeleteUserChat(_id)}\r\n      >\r\n        Revoke\r\n      </Button>\r\n      <CSSTransition\r\n        in={writeRate}\r\n        timeout={200}\r\n        classNames=\"fade-fast\"\r\n        unmountOnExit\r\n      >\r\n        <WriteRate\r\n          avatarId={avatarId}\r\n          firstName={firstName}\r\n          lastName={lastName}\r\n          email={email}\r\n          rate={rate}\r\n          wallet={wallet}\r\n          userType=\"teacher\"\r\n          price={price}\r\n          _id={_id}\r\n          subjects={subjects}\r\n          close={() => setWriteRate(false)}\r\n        />\r\n      </CSSTransition>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default User;\r\n","import styled from '@emotion/styled';\r\nimport { breakpoints } from '../../../styles/breakpoints';\r\nimport { scrollY } from '../../../styles/scroll';\r\n\r\nexport const Container = styled.div`\r\n  margin: 0 20rem;\r\n\r\n  @media screen and (max-width: ${breakpoints.lg}) {\r\n    margin: 0 8rem;\r\n  }\r\n\r\n  @media screen and (max-width: ${breakpoints.md}) {\r\n    margin: 0 3rem;\r\n  }\r\n`;\r\n\r\nexport const List = styled.ul`\r\n  list-style: none;\r\n  margin: 5rem 0;\r\n  height: 65vh;\r\n  overflow-y: scroll;\r\n\r\n  ${scrollY}\r\n\r\n  .item:not(:last-child) {\r\n    margin-bottom: 6rem;\r\n  }\r\n`;\r\n","import { FC, useContext, useEffect, useState } from 'react';\r\n\r\nimport axios from 'axios';\r\nimport { AiOutlineSearch } from 'react-icons/ai';\r\nimport { CSSTransition, TransitionGroup } from 'react-transition-group';\r\n\r\nimport { Header3 } from '../../../components/Header';\r\nimport { Input, InputIcon } from '../../../components/Input';\r\nimport User from './User';\r\nimport { Container, List } from './UserList.elements';\r\nimport { CurrentChat } from '../Chats';\r\nimport { loggedUserContext } from '../../../context/loggedUser';\r\nimport { AVATARS } from '../../../contants';\r\nimport '../../../styles/animations.css';\r\nimport { socket } from '../../../utils/socket';\r\n\r\nconst { REACT_APP_SERVER_URL } = process.env;\r\n\r\nconst UserList: FC<{\r\n  setCurrentChat: React.Dispatch<React.SetStateAction<CurrentChat>>;\r\n  chat: CurrentChat;\r\n}> = ({ setCurrentChat, chat }) => {\r\n  const { token, user } = useContext(loggedUserContext);\r\n\r\n  const [search, setSearch] = useState('');\r\n  const [users, setUsers] = useState<UserType[]>([]);\r\n\r\n  useEffect(() => {\r\n    socket.on('created', (id: string) => {\r\n      const ids = id.split('_');\r\n      if (user && ids.includes(user._id)) {\r\n        const userId = ids[0] === user._id ? ids[1] : ids[0];\r\n\r\n        axios\r\n          .get<UserType>(`${REACT_APP_SERVER_URL}/users/${userId}`)\r\n          .then(res => {\r\n            setUsers(prev => [...prev, res.data]);\r\n          });\r\n      }\r\n    });\r\n\r\n    return () => {\r\n      socket.off('created');\r\n    };\r\n  }, [user]);\r\n\r\n  useEffect(() => {\r\n    socket.on('deleted', (id: string) => {\r\n      if (id === chat.roomId) {\r\n        setCurrentChat({\r\n          avatarId: AVATARS.FEMALE_1,\r\n          firstName: '',\r\n          lastName: '',\r\n          roomId: '',\r\n        });\r\n      }\r\n\r\n      const ids = id.split('_');\r\n      const secondId = ids[0] === user?._id ? ids[1] : ids[0];\r\n\r\n      setUsers(prev => prev.filter(userArr => userArr._id !== secondId));\r\n    });\r\n\r\n    return () => {\r\n      socket.off('deleted');\r\n    };\r\n  }, [chat.roomId, setCurrentChat, user?._id]);\r\n\r\n  useEffect(() => {\r\n    token &&\r\n      axios\r\n        .get<UserType[]>(`${REACT_APP_SERVER_URL}/users/chatted`, {\r\n          headers: {\r\n            Authorization: token,\r\n          },\r\n        })\r\n        .then(res => {\r\n          setUsers(res.data);\r\n        });\r\n  }, [token]);\r\n\r\n  useEffect(() => {\r\n    users.forEach(userArr => {\r\n      const roomId =\r\n        user?.userType === 'teacher'\r\n          ? user._id + '_' + userArr._id\r\n          : userArr._id + '_' + user?._id;\r\n\r\n      socket.emit('joinRoom', roomId);\r\n    });\r\n  }, [users, user?._id, user?.userType]);\r\n\r\n  const handleDeleteUserChat = (_id: string) => {\r\n    const roomId =\r\n      user?.userType === 'teacher'\r\n        ? user._id + '_' + _id\r\n        : _id + '_' + user?._id;\r\n\r\n    if (roomId === chat.roomId) {\r\n      setCurrentChat({\r\n        avatarId: AVATARS.FEMALE_1,\r\n        firstName: '',\r\n        lastName: '',\r\n        roomId: '',\r\n      });\r\n    }\r\n\r\n    socket.emit('deleteRoom', roomId);\r\n\r\n    token &&\r\n      axios.delete(`${REACT_APP_SERVER_URL}/messages/${roomId}`, {\r\n        headers: {\r\n          Authorization: token,\r\n        },\r\n      });\r\n\r\n    setUsers(prev => prev.filter(user => user._id !== _id));\r\n  };\r\n\r\n  const renderUsers = (): JSX.Element[] => {\r\n    return users\r\n      .filter(teacher => {\r\n        return (\r\n          teacher.firstName.toLowerCase() +\r\n          ' ' +\r\n          teacher.lastName.toLowerCase()\r\n        ).includes(search.toLowerCase());\r\n      })\r\n      .map(user => {\r\n        return (\r\n          <CSSTransition timeout={200} classNames=\"slide\" key={user._id}>\r\n            <li className=\"item\">\r\n              <User\r\n                {...user}\r\n                setCurrentChat={setCurrentChat}\r\n                chat={chat}\r\n                handleDeleteUserChat={handleDeleteUserChat}\r\n              />\r\n            </li>\r\n          </CSSTransition>\r\n        );\r\n      });\r\n  };\r\n\r\n  return (\r\n    <Container className=\"list\">\r\n      <Header3 style={{ marginBottom: '2rem' }}>\r\n        {user?.userType === 'teacher' ? 'Your students' : 'Your teachers'}\r\n      </Header3>\r\n      <InputIcon>\r\n        <AiOutlineSearch />\r\n        <Input\r\n          placeholder=\"Search\"\r\n          value={search}\r\n          onChange={e => setSearch(e.target.value)}\r\n        />\r\n      </InputIcon>\r\n\r\n      <List>\r\n        <TransitionGroup component={null}>{renderUsers()}</TransitionGroup>\r\n      </List>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default UserList;\r\n","import styled from '@emotion/styled';\r\nimport { breakpoints } from '../../styles/breakpoints';\r\n\r\nexport const Img = styled.img`\r\n  @media screen and (max-width: ${breakpoints.lg}) {\r\n    width: 70rem;\r\n    height: 70rem;\r\n  }\r\n\r\n  @media screen and (max-width: ${breakpoints.md}) {\r\n    width: 60rem;\r\n    height: 60rem;\r\n    margin-left: 10rem;\r\n  }\r\n`;\r\n\r\nexport const Container = styled.div`\r\n  display: flex;\r\n\r\n  .center {\r\n    flex: 1;\r\n    height: auto;\r\n    flex-direction: column;\r\n    margin-left: -30rem;\r\n    pointer-events: none;\r\n  }\r\n\r\n  @media screen and (max-width: ${breakpoints.sm}) {\r\n    .list {\r\n      display: none;\r\n    }\r\n\r\n    .center {\r\n      margin-left: 0;\r\n    }\r\n  }\r\n`;\r\n","import { FC, useState } from 'react';\r\n\r\nimport { CSSTransition, SwitchTransition } from 'react-transition-group';\r\n\r\nimport Footer from '../../components/Footer/Footer';\r\nimport NavBar from '../../components/NavBar/NavBar';\r\nimport Chat from './components/Chat';\r\nimport UserList from './components/UserList';\r\nimport '../../styles/animations.css';\r\nimport { Center } from '../../components/Center';\r\nimport { AVATARS } from '../../contants';\r\nimport { Container, Img } from './Chats.elements';\r\n\r\nexport interface CurrentChat {\r\n  firstName: string;\r\n  lastName: string;\r\n  avatarId: AVATARS;\r\n  roomId: string;\r\n}\r\n\r\nconst Chats: FC = () => {\r\n  const [chat, setChat] = useState<CurrentChat>({\r\n    firstName: '',\r\n    lastName: '',\r\n    avatarId: AVATARS.FEMALE_1,\r\n    roomId: '',\r\n  });\r\n\r\n  return (\r\n    <div>\r\n      <div style={{ minHeight: '100vh' }}>\r\n        <NavBar />\r\n        <Container>\r\n          <UserList setCurrentChat={setChat} chat={chat} />\r\n          <SwitchTransition>\r\n            <CSSTransition\r\n              timeout={200}\r\n              key={chat?.roomId}\r\n              classNames=\"fade-fast\"\r\n            >\r\n              {chat.roomId ? (\r\n                <Chat {...chat} />\r\n              ) : (\r\n                <Center className=\"center\">\r\n                  <Img src=\"/images/hero_chat.svg\" alt=\"Start chatting\" />\r\n                </Center>\r\n              )}\r\n            </CSSTransition>\r\n          </SwitchTransition>\r\n        </Container>\r\n      </div>\r\n      <Footer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Chats;\r\n","import styled from '@emotion/styled';\r\n\r\nexport const Nav = styled.nav`\r\n  display: flex;\r\n  padding: 5rem 10rem;\r\n  margin-bottom: 12rem;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n\r\n  h3 {\r\n    letter-spacing: 0.5rem;\r\n    font-size: 3.5rem;\r\n    font-weight: 300;\r\n  }\r\n`;\r\n","import styled from '@emotion/styled';\r\nimport { Button } from '../../../components/Button';\r\n\r\nexport const BigButton = styled(Button)`\r\n  padding: 1rem 5rem;\r\n  font-size: 3rem;\r\n`;\r\n","import { FC } from 'react';\r\n\r\nimport { useHistory } from 'react-router';\r\n\r\nimport { Button } from '../../components/Button';\r\nimport { Header1, SmallHeader } from '../../components/Header';\r\nimport { Nav } from './components/Nav';\r\nimport { Center } from '../../components/Center';\r\nimport { BigButton } from './components/BigButton';\r\nimport Footer from '../../components/Footer/Footer';\r\nimport styled from '@emotion/styled';\r\nimport { breakpoints } from '../../styles/breakpoints';\r\n\r\nconst Img = styled.img`\r\n  @media screen and (max-width: ${breakpoints.sm}) {\r\n    width: 40rem;\r\n    height: 40rem;\r\n  }\r\n`;\r\n\r\nconst Hero: FC = () => {\r\n  const history = useHistory();\r\n\r\n  const handleLoginButton = () => history.push('/login');\r\n  const handleRegisterButton = () => history.push('/register');\r\n\r\n  return (\r\n    <div>\r\n      <div style={{ minHeight: '100vh' }}>\r\n        <Nav>\r\n          <h3>KOREK</h3>\r\n          <div>\r\n            <Button\r\n              secondary={true}\r\n              style={{ marginRight: '2rem' }}\r\n              onClick={handleLoginButton}\r\n            >\r\n              Login\r\n            </Button>\r\n            <Button onClick={handleRegisterButton}>Register</Button>\r\n          </div>\r\n        </Nav>\r\n\r\n        <Header1>\r\n          Learn Anytime, Anywhere <br /> and Accelerate Future\r\n        </Header1>\r\n        <SmallHeader style={{ marginBottom: '5rem' }}>\r\n          We believe everyone can make something amazing!\r\n        </SmallHeader>\r\n\r\n        <Center style={{ marginBottom: '5rem' }}>\r\n          <Img src=\"/images/hero_learning.svg\" alt=\"Study online\" />\r\n        </Center>\r\n\r\n        <Header1>Join us to make world better!</Header1>\r\n        <Center style={{ marginTop: '2rem', paddingBottom: '8rem' }}>\r\n          <BigButton onClick={handleRegisterButton}>Join now</BigButton>\r\n        </Center>\r\n      </div>\r\n      <Footer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Hero;\r\n","import styled from '@emotion/styled';\r\nimport { breakpoints } from '../../styles/breakpoints';\r\n\r\nexport const Background = styled.div`\r\n  position: absolute;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  background-color: var(--color-yellow);\r\n`;\r\n\r\nexport const BackBtnSm = styled.button`\r\n  border: none;\r\n  padding: 1.5rem;\r\n  background-color: transparent;\r\n  position: absolute;\r\n  top: 2rem;\r\n  left: 2rem;\r\n  transition: var(--trans-default);\r\n\r\n  svg {\r\n    width: 2rem;\r\n    height: 2rem;\r\n    transition: var(--trans-default);\r\n  }\r\n\r\n  :hover {\r\n    cursor: pointer;\r\n    padding: 1.5rem;\r\n\r\n    svg {\r\n      width: 2.5rem;\r\n      height: 2.5rem;\r\n    }\r\n  }\r\n\r\n  :active {\r\n    padding: 1rem;\r\n  }\r\n`;\r\n\r\nexport const BackBtn = styled.button`\r\n  border: none;\r\n  padding: 2rem;\r\n  background-color: var(--color-white);\r\n  border-radius: 50%;\r\n  position: absolute;\r\n  top: 10rem;\r\n  right: 10rem;\r\n  transition: var(--trans-default);\r\n\r\n  svg {\r\n    width: 3rem;\r\n    height: 3rem;\r\n    transition: var(--trans-default);\r\n  }\r\n\r\n  :hover {\r\n    cursor: pointer;\r\n    padding: 2.5rem;\r\n\r\n    svg {\r\n      width: 4rem;\r\n      height: 4rem;\r\n    }\r\n  }\r\n\r\n  :active {\r\n    padding: 2rem;\r\n  }\r\n`;\r\n\r\nexport const Price = styled.input`\r\n  padding: 1rem;\r\n  font-size: 1.6rem;\r\n  width: 100%;\r\n  border: 1px solid #ccc;\r\n  border-radius: 0.5rem;\r\n`;\r\n\r\nexport const Card = styled.div`\r\n  padding: 5rem 7rem;\r\n  width: 40%;\r\n  height: max-content;\r\n  border-radius: 5rem;\r\n  position: relative;\r\n  background-color: var(--color-white);\r\n\r\n  @media screen and (max-width: ${breakpoints.md}) {\r\n    width: 70%;\r\n  }\r\n\r\n  .flex {\r\n    display: flex;\r\n    justify-content: center;\r\n    margin-bottom: 3rem;\r\n    margin-top: 1rem;\r\n\r\n    a {\r\n      margin-left: 0.5rem;\r\n      color: var(--color-yellow);\r\n      text-decoration: underline;\r\n      text-decoration-color: transparent;\r\n      transition: var(--trans-default);\r\n\r\n      :hover {\r\n        cursor: pointer;\r\n        text-decoration-color: var(--color-yellow);\r\n      }\r\n    }\r\n  }\r\n\r\n  .help {\r\n    display: flex;\r\n    font-size: 1rem;\r\n    font-weight: 500;\r\n    justify-content: flex-end;\r\n    margin-top: 1rem;\r\n    margin-bottom: 1.5rem;\r\n  }\r\n`;\r\n\r\nexport const Double = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 1.5rem;\r\n\r\n  div {\r\n    width: 48%;\r\n  }\r\n`;\r\n\r\nexport const SelectContainer = styled.div`\r\n  display: flex;\r\n  width: 100%;\r\n  justify-content: flex-start;\r\n  align-items: center;\r\n  margin-top: 2rem;\r\n`;\r\n","import { FC } from 'react';\r\n\r\nimport { IoReturnUpBack } from 'react-icons/io5';\r\nimport { useHistory } from 'react-router';\r\n\r\nimport { Center } from '../../components/Center';\r\nimport { BackBtn, Background, Card } from './Elements';\r\n\r\nconst Template: FC<{ children: JSX.Element }> = ({ children }) => {\r\n  const history = useHistory();\r\n\r\n  const handleBackBtnClick = () => history.push('/');\r\n\r\n  return (\r\n    <Background>\r\n      <BackBtn onClick={handleBackBtnClick}>\r\n        <IoReturnUpBack />\r\n      </BackBtn>\r\n      <Center>\r\n        <Card>{children}</Card>\r\n      </Center>\r\n    </Background>\r\n  );\r\n};\r\n\r\nexport default Template;\r\n","import { Dispatch, SetStateAction, useState } from 'react';\r\n\r\ninterface returnedObject {\r\n  [key: string]: { value: string; required: boolean; checked: boolean };\r\n}\r\n\r\nconst useForm = (initialState: {\r\n  [key: string]: { value: string; required: boolean };\r\n}): [\r\n  returnedObject,\r\n  Dispatch<SetStateAction<returnedObject>>,\r\n  (name: string, bool?: boolean) => void,\r\n  (e: React.ChangeEvent<HTMLInputElement>) => void,\r\n  () => boolean\r\n] => {\r\n  let newState: returnedObject = {};\r\n\r\n  for (const [key, value] of Object.entries(initialState)) {\r\n    newState = { ...newState, [key]: { ...value, checked: true } };\r\n  }\r\n\r\n  const [formData, setFormData] = useState(newState);\r\n\r\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>): void => {\r\n    const checked = formData[e.target.name].required\r\n      ? e.target.value\r\n        ? true\r\n        : false\r\n      : true;\r\n\r\n    setFormData({\r\n      ...formData,\r\n      [e.target.name]: {\r\n        ...formData[e.target.name],\r\n        value: e.target.value,\r\n        checked: checked,\r\n      },\r\n    });\r\n  };\r\n\r\n  const toggleChecked = (name: string, bool: boolean = false): void => {\r\n    setFormData({\r\n      ...formData,\r\n      [name]: {\r\n        ...formData[name],\r\n        checked: bool,\r\n      },\r\n    });\r\n  };\r\n\r\n  const checkValidity = () => {\r\n    const fields: string[] = [];\r\n\r\n    Object.keys(formData).forEach(key => fields.push(key));\r\n\r\n    let isValid = true;\r\n    let tempObj = {};\r\n    fields.forEach(field => {\r\n      if (!formData[field].value && formData[field].required) {\r\n        tempObj = {\r\n          ...tempObj,\r\n          [field]: { ...formData[field], checked: false },\r\n        };\r\n        isValid = false;\r\n      } else\r\n        tempObj = {\r\n          ...tempObj,\r\n          [field]: { ...formData[field] },\r\n        };\r\n    });\r\n    setFormData(tempObj);\r\n    if (!isValid) return false;\r\n    return true;\r\n  };\r\n\r\n  return [\r\n    formData,\r\n    setFormData,\r\n    toggleChecked,\r\n    handleInputChange,\r\n    checkValidity,\r\n  ];\r\n};\r\n\r\nexport default useForm;\r\n","export const validateEmail = (email: string): boolean => {\r\n  const re =\r\n    /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n  return re.test(email);\r\n};\r\n","import React, { FC, useContext } from 'react';\r\n\r\nimport { MdLockOutline } from 'react-icons/md';\r\nimport { FiAtSign } from 'react-icons/fi';\r\nimport axios from 'axios';\r\nimport { useHistory } from 'react-router';\r\n\r\nimport { Button } from '../../components/Button';\r\nimport { Header1 } from '../../components/Header';\r\nimport { Input, InputIcon } from '../../components/Input';\r\nimport Template from './Template';\r\nimport { Link } from 'react-router-dom';\r\nimport useForm from '../../hooks/useForm';\r\nimport { validateEmail } from '../../utils/functions';\r\nimport { toast } from 'react-toastify';\r\nimport { loggedUserContext } from '../../context/loggedUser';\r\n\r\nconst { REACT_APP_SERVER_URL } = process.env;\r\n\r\nconst Login: FC = () => {\r\n  const { setToken } = useContext(loggedUserContext);\r\n\r\n  const [formData, , toggleChecked, handleInputChange, checkValidity] = useForm(\r\n    {\r\n      email: { value: '', required: true },\r\n      pass: { value: '', required: true },\r\n    }\r\n  );\r\n\r\n  const { email, pass } = formData;\r\n\r\n  const history = useHistory();\r\n\r\n  // TOASTS\r\n  const emailErr = () =>\r\n    toast.error('Account with that email not found!', {\r\n      position: 'top-center',\r\n      autoClose: 10000,\r\n      hideProgressBar: false,\r\n      closeOnClick: true,\r\n      pauseOnHover: true,\r\n      draggable: true,\r\n      progress: undefined,\r\n    });\r\n\r\n  const passErr = () =>\r\n    toast.error('Password is wrong!', {\r\n      position: 'top-center',\r\n      autoClose: 10000,\r\n      hideProgressBar: false,\r\n      closeOnClick: true,\r\n      pauseOnHover: true,\r\n      draggable: true,\r\n      progress: undefined,\r\n    });\r\n\r\n  const handleFormSubmit = (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n    if (!checkValidity()) return;\r\n    if (!validateEmail(email.value)) {\r\n      toggleChecked('email');\r\n      return;\r\n    }\r\n\r\n    axios\r\n      .post<LoginType>(`${REACT_APP_SERVER_URL}/users/login`, {\r\n        email: email.value,\r\n        password: pass.value,\r\n      })\r\n      .then(res => {\r\n        const { data } = res;\r\n        if (data.error) {\r\n          if (data.error === 'Cannot find user with that email') {\r\n            emailErr();\r\n          } else if (data.error === 'Bad password') {\r\n            passErr();\r\n          }\r\n        } else {\r\n          setToken(data.token);\r\n          history.push('/');\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <Template>\r\n      <form noValidate onSubmit={handleFormSubmit}>\r\n        <div style={{ textAlign: 'center' }}>\r\n          <Header1>Log in</Header1>\r\n          <div className=\"flex\">\r\n            Don't have an account? <Link to=\"/register\">Register here</Link>\r\n          </div>\r\n        </div>\r\n        <InputIcon style={{ marginBottom: '1.5rem' }}>\r\n          <FiAtSign />\r\n          <Input\r\n            placeholder=\"Email Address\"\r\n            type=\"email\"\r\n            name=\"email\"\r\n            onChange={handleInputChange}\r\n            value={email.value}\r\n            warn={!email.checked}\r\n          />\r\n        </InputIcon>\r\n        <InputIcon>\r\n          <MdLockOutline />\r\n          <Input\r\n            placeholder=\"Password\"\r\n            type=\"password\"\r\n            name=\"pass\"\r\n            onChange={handleInputChange}\r\n            value={pass.value}\r\n            warn={!pass.checked}\r\n          />\r\n        </InputIcon>\r\n\r\n        <div className=\"help\">Forgot password</div>\r\n        <Button style={{ width: '100%' }}>Login</Button>\r\n      </form>\r\n    </Template>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import Select, { GroupBase, Props } from 'react-select';\r\n\r\nexport function StyledSelect<\r\n  Option,\r\n  IsMulti extends boolean = false,\r\n  Group extends GroupBase<Option> = GroupBase<Option>\r\n>(props: Props<Option, IsMulti, Group>) {\r\n  return (\r\n    <Select\r\n      {...props}\r\n      theme={theme => ({\r\n        ...theme,\r\n        colors: {\r\n          ...theme.colors,\r\n          primary: 'var(--color-black)',\r\n          primary25: 'var(--color-yellow)',\r\n        },\r\n      })}\r\n    />\r\n  );\r\n}\r\n","import React, { FC, useContext, useState } from 'react';\r\n\r\nimport { FiAtSign } from 'react-icons/fi';\r\nimport { MdLockOutline, MdPersonOutline } from 'react-icons/md';\r\nimport { Link } from 'react-router-dom';\r\nimport { GroupBase, MultiValue, OptionsOrGroups } from 'react-select';\r\nimport { CSSTransition, SwitchTransition } from 'react-transition-group';\r\nimport axios from 'axios';\r\nimport { IoReturnUpBack } from 'react-icons/io5';\r\nimport { toast } from 'react-toastify';\r\nimport { useHistory } from 'react-router';\r\n\r\nimport '../../styles/animations.css';\r\nimport { Button } from '../../components/Button';\r\nimport { Header1, Header3 } from '../../components/Header';\r\nimport { Input, InputIcon } from '../../components/Input';\r\nimport useForm from '../../hooks/useForm';\r\nimport { validateEmail } from '../../utils/functions';\r\nimport { BackBtnSm, Double, Price, SelectContainer } from './Elements';\r\nimport Template from './Template';\r\nimport { StyledSelect } from '../../components/StyledSelect';\r\nimport { Avatar, AvatarSelector } from '../../components/Avatar';\r\nimport { Center } from '../../components/Center';\r\nimport { SUBJECTS, AVATARS } from '../../contants';\r\nimport { loggedUserContext } from '../../context/loggedUser';\r\n\r\nconst SelectSubjects: OptionsOrGroups<SubjectType, GroupBase<any>> = [\r\n  { value: SUBJECTS.MATH, label: 'Math' },\r\n  { value: SUBJECTS.CHEMISTRY, label: 'Chemistry' },\r\n  { value: SUBJECTS.PHYSICS, label: 'Physics' },\r\n  { value: SUBJECTS.POLISH, label: 'Polish' },\r\n  { value: SUBJECTS.ENGLISH, label: 'English' },\r\n  { value: SUBJECTS.BIOLOGY, label: 'Biology' },\r\n  { value: SUBJECTS.FRENCH, label: 'French' },\r\n  { value: SUBJECTS.INFORMATIC, label: 'Informatic' },\r\n  { value: SUBJECTS.SPANISH, label: 'Spanish' },\r\n  { value: SUBJECTS.GERMAN, label: 'German' },\r\n  { value: SUBJECTS.HISTORY, label: 'History' },\r\n  { value: SUBJECTS.GEOGRAPHIC, label: 'Geographic' },\r\n];\r\n\r\nconst { REACT_APP_SERVER_URL } = process.env;\r\n\r\nconst imAoptions = [\r\n  { value: 'student', label: 'Student' },\r\n  { value: 'teacher', label: 'Teacher' },\r\n];\r\n\r\nconst Register: FC = () => {\r\n  const { setToken } = useContext(loggedUserContext);\r\n\r\n  const [\r\n    formData,\r\n    setFormData,\r\n    toggleChecked,\r\n    handleInputChange,\r\n    checkValidity,\r\n  ] = useForm({\r\n    email: { value: '', required: true },\r\n    fName: { value: '', required: true },\r\n    lName: { value: '', required: true },\r\n    pass: { value: '', required: true },\r\n    confPass: { value: '', required: true },\r\n  });\r\n\r\n  const [imA, setImA] = useState(imAoptions[0]);\r\n  const [help, setHelp] = useState<MultiValue<SubjectType>>([]);\r\n  const [avatarId, setAvatarId] = useState<AVATARS>(AVATARS.FEMALE_1);\r\n  const [avatarSetter, setAvatarSetter] = useState(false);\r\n  const [valid, setValid] = useState(0);\r\n  const [price, setPrice] = useState('0');\r\n\r\n  const { email, fName, lName, pass, confPass } = formData;\r\n\r\n  const history = useHistory();\r\n\r\n  // TOASTS\r\n  const emailFound = () =>\r\n    toast.error('Account with that email found!', {\r\n      position: 'top-center',\r\n      autoClose: 10000,\r\n      hideProgressBar: false,\r\n      closeOnClick: true,\r\n      pauseOnHover: true,\r\n      draggable: true,\r\n      progress: undefined,\r\n    });\r\n\r\n  const makeBigLetter = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    if (!e.target.value) {\r\n      handleInputChange(e);\r\n      return;\r\n    }\r\n\r\n    const oldString = e.target.value;\r\n\r\n    setFormData({\r\n      ...formData,\r\n      [e.target.name]: {\r\n        ...formData[e.target.name],\r\n        value: oldString[0].toUpperCase() + oldString.substr(1),\r\n        checked: true,\r\n      },\r\n    });\r\n  };\r\n\r\n  const handleSubmitForm = (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n    if (pass.value !== confPass.value) {\r\n      toggleChecked('confPass');\r\n      return;\r\n    }\r\n    if (!checkValidity()) return;\r\n    if (!validateEmail(email.value)) {\r\n      toggleChecked('email');\r\n      return;\r\n    }\r\n\r\n    setValid(1);\r\n  };\r\n\r\n  const handleAvatarSelect = (id: AVATARS) => {\r\n    setAvatarSetter(false);\r\n    setAvatarId(id);\r\n  };\r\n\r\n  const handleRegister = () => {\r\n    const subjects = help.map(subject => {\r\n      return subject.value;\r\n    });\r\n\r\n    REACT_APP_SERVER_URL &&\r\n      axios\r\n        .post<LoginType>(`${REACT_APP_SERVER_URL}/users`, {\r\n          firstName: fName.value,\r\n          lastName: lName.value,\r\n          email: email.value,\r\n          password: pass.value,\r\n          price,\r\n          avatarId,\r\n          userType: imA.value,\r\n          subjects: subjects,\r\n          connected: [],\r\n        })\r\n        .then(res => {\r\n          const { data } = res;\r\n\r\n          if (res.data.error === 'Found user with that email.') emailFound();\r\n          else {\r\n            setToken(data.token);\r\n            history.push('/discover');\r\n          }\r\n        })\r\n        .catch(err => console.log(err));\r\n  };\r\n\r\n  const renderRegistration = (): JSX.Element => {\r\n    return (\r\n      <form onSubmit={handleSubmitForm} noValidate>\r\n        <div style={{ textAlign: 'center' }}>\r\n          <Header1>Create Account</Header1>\r\n          <div className=\"flex\">\r\n            Already have an account? <Link to=\"/login\">Log in here</Link>\r\n          </div>\r\n        </div>\r\n        <InputIcon style={{ marginBottom: '1.5rem' }}>\r\n          <FiAtSign />\r\n          <Input\r\n            placeholder=\"Email Address\"\r\n            type=\"email\"\r\n            name=\"email\"\r\n            onChange={handleInputChange}\r\n            value={email.value}\r\n            warn={!email.checked}\r\n          />\r\n        </InputIcon>\r\n        <Double>\r\n          <InputIcon>\r\n            <MdPersonOutline />\r\n            <Input\r\n              placeholder=\"First Name\"\r\n              name=\"fName\"\r\n              onChange={makeBigLetter}\r\n              value={fName.value}\r\n              warn={!fName.checked}\r\n            />\r\n          </InputIcon>\r\n          <InputIcon>\r\n            <MdPersonOutline />\r\n            <Input\r\n              placeholder=\"Last Name\"\r\n              name=\"lName\"\r\n              onChange={makeBigLetter}\r\n              value={lName.value}\r\n              warn={!lName.checked}\r\n            />\r\n          </InputIcon>\r\n        </Double>\r\n        <Double>\r\n          <InputIcon>\r\n            <MdLockOutline />\r\n            <Input\r\n              placeholder=\"Password\"\r\n              type=\"password\"\r\n              name=\"pass\"\r\n              onChange={handleInputChange}\r\n              value={pass.value}\r\n              warn={!pass.checked}\r\n            />\r\n          </InputIcon>\r\n          <InputIcon>\r\n            <MdLockOutline />\r\n            <Input\r\n              placeholder=\"Confirm\"\r\n              type=\"password\"\r\n              name=\"confPass\"\r\n              onChange={handleInputChange}\r\n              value={confPass.value}\r\n              warn={!confPass.checked}\r\n            />\r\n          </InputIcon>\r\n        </Double>\r\n        <Button style={{ width: '100%' }}>Register</Button>\r\n      </form>\r\n    );\r\n  };\r\n\r\n  const renderCompletion = (): JSX.Element => {\r\n    return (\r\n      <div>\r\n        <BackBtnSm onClick={() => setValid(0)}>\r\n          <IoReturnUpBack />\r\n        </BackBtnSm>\r\n\r\n        <Header1>Complete registration</Header1>\r\n        <SelectContainer>\r\n          <Header3 style={{ marginRight: '2rem' }}>I'm a</Header3>\r\n\r\n          <div style={{ flex: 1 }}>\r\n            <StyledSelect\r\n              options={imAoptions}\r\n              value={imA}\r\n              onChange={e => e && setImA(e)}\r\n            />\r\n          </div>\r\n        </SelectContainer>\r\n        {imA === imAoptions[1] && (\r\n          <SelectContainer>\r\n            <label htmlFor=\"price\">\r\n              <Header3 style={{ marginRight: '2rem', textAlign: 'left' }}>\r\n                Price / h\r\n              </Header3>\r\n            </label>\r\n            <div style={{ flex: 1 }}>\r\n              <Price\r\n                id=\"price\"\r\n                value={price}\r\n                type=\"number\"\r\n                onChange={e => {\r\n                  (parseFloat(e.target.value) > 0 || e.target.value === '') &&\r\n                    setPrice(e.target.value);\r\n                }}\r\n              />\r\n            </div>\r\n          </SelectContainer>\r\n        )}\r\n\r\n        <div style={{ marginTop: '2rem' }}>\r\n          <Header3 style={{ marginRight: '2rem', textAlign: 'left' }}>\r\n            {imA === imAoptions[0] ? 'I need help with' : 'I can help with'}\r\n          </Header3>\r\n\r\n          <StyledSelect\r\n            options={SelectSubjects}\r\n            value={help}\r\n            onChange={e => e && setHelp(e)}\r\n            isMulti\r\n          />\r\n        </div>\r\n        <Center style={{ margin: '2rem 0' }}>\r\n          <Header3 style={{ marginRight: '2rem', textAlign: 'left' }}>\r\n            My avatar\r\n          </Header3>\r\n          <div\r\n            onClick={() => setAvatarSetter(true)}\r\n            style={{ width: 'min-content' }}\r\n          >\r\n            <Avatar id={avatarId} />\r\n          </div>\r\n          <CSSTransition\r\n            in={avatarSetter}\r\n            timeout={200}\r\n            classNames=\"fade-fast\"\r\n            unmountOnExit\r\n          >\r\n            <AvatarSelector\r\n              id={avatarId}\r\n              avatarSelect={handleAvatarSelect}\r\n              close={() => setAvatarSetter(false)}\r\n            />\r\n          </CSSTransition>\r\n        </Center>\r\n        <Button\r\n          style={{ width: '100%' }}\r\n          onClick={() => help.length && handleRegister()}\r\n          disabled={help.length ? false : true}\r\n        >\r\n          Complete\r\n        </Button>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Template>\r\n      <SwitchTransition mode=\"out-in\">\r\n        <CSSTransition timeout={200} classNames=\"fade-fast\" key={valid}>\r\n          {!valid ? renderRegistration() : renderCompletion()}\r\n        </CSSTransition>\r\n      </SwitchTransition>\r\n    </Template>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n","import styled from '@emotion/styled';\r\nimport { Center } from '../../components/Center';\r\nimport { breakpoints } from '../../styles/breakpoints';\r\n\r\nexport const Flex = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n\r\n  button {\r\n    height: 5.3rem;\r\n  }\r\n`;\r\n\r\nexport const Right = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  height: 80rem;\r\n  width: 60%;\r\n  padding-right: 40rem;\r\n\r\n  @media screen and (max-width: ${breakpoints.xl}) {\r\n    padding-right: 10rem;\r\n  }\r\n\r\n  @media screen and (max-width: ${breakpoints.lg}) {\r\n    width: 50%;\r\n    padding-right: 0;\r\n    margin-left: 50%;\r\n    transform: translateX(-50%);\r\n  }\r\n`;\r\n\r\nexport const StyledCenter = styled(Center)`\r\n  @media screen and (max-width: ${breakpoints.lg}) {\r\n    display: none;\r\n  }\r\n`;\r\n","import { FC, useContext, useEffect, useState } from 'react';\r\n\r\nimport { MdPersonOutline } from 'react-icons/md';\r\nimport { FiAtSign } from 'react-icons/fi';\r\nimport { Avatar, AvatarSelector } from '../../components/Avatar';\r\nimport { GroupBase, MultiValue, OptionsOrGroups } from 'react-select';\r\nimport axios from 'axios';\r\nimport { CSSTransition } from 'react-transition-group';\r\nimport { toast } from 'react-toastify';\r\n\r\nimport { Button } from '../../components/Button';\r\nimport Footer from '../../components/Footer/Footer';\r\nimport { Input, InputIcon } from '../../components/Input';\r\nimport NavBar from '../../components/NavBar/NavBar';\r\nimport { AVATARS, SUBJECTS } from '../../contants';\r\nimport { loggedUserContext } from '../../context/loggedUser';\r\nimport { Flex, Right, StyledCenter } from './Profile.elements';\r\nimport { StyledSelect } from '../../components/StyledSelect';\r\nimport { Header2, Header3 } from '../../components/Header';\r\nimport { validateEmail } from '../../utils/functions';\r\n\r\nconst SelectSubjects: OptionsOrGroups<SubjectType, GroupBase<any>> = [\r\n  { value: SUBJECTS.MATH, label: 'Math' },\r\n  { value: SUBJECTS.CHEMISTRY, label: 'Chemistry' },\r\n  { value: SUBJECTS.PHYSICS, label: 'Physics' },\r\n  { value: SUBJECTS.POLISH, label: 'Polish' },\r\n  { value: SUBJECTS.ENGLISH, label: 'English' },\r\n  { value: SUBJECTS.BIOLOGY, label: 'Biology' },\r\n  { value: SUBJECTS.FRENCH, label: 'French' },\r\n  { value: SUBJECTS.INFORMATIC, label: 'Informatic' },\r\n  { value: SUBJECTS.SPANISH, label: 'Spanish' },\r\n  { value: SUBJECTS.GERMAN, label: 'German' },\r\n  { value: SUBJECTS.HISTORY, label: 'History' },\r\n  { value: SUBJECTS.GEOGRAPHIC, label: 'Geographic' },\r\n];\r\n\r\nconst { REACT_APP_SERVER_URL } = process.env;\r\n\r\nconst Profile: FC = () => {\r\n  const { setToken, token, user } = useContext(loggedUserContext);\r\n\r\n  const [help, setHelp] = useState<MultiValue<SubjectType>>([]);\r\n  const [avatarSetter, setAvatarSetter] = useState(false);\r\n  const [fName, setFName] = useState('');\r\n  const [lName, setLName] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [emailWarn, setEmailWarn] = useState(false);\r\n  const [fWarn, setFWarn] = useState(false);\r\n  const [lWarn, setLWarn] = useState(false);\r\n\r\n  const success = () =>\r\n    toast.success('Account updated!', {\r\n      position: 'top-center',\r\n      autoClose: 10000,\r\n      hideProgressBar: false,\r\n      closeOnClick: true,\r\n      pauseOnHover: true,\r\n      draggable: true,\r\n      progress: undefined,\r\n    });\r\n\r\n  const error = () =>\r\n    toast.error('Account update error!', {\r\n      position: 'top-center',\r\n      autoClose: 10000,\r\n      hideProgressBar: false,\r\n      closeOnClick: true,\r\n      pauseOnHover: true,\r\n      draggable: true,\r\n      progress: undefined,\r\n    });\r\n\r\n  const updateUser = (data: UserType) => {\r\n    token &&\r\n      axios\r\n        .patch<{ token: string }>(`${REACT_APP_SERVER_URL}/users`, data, {\r\n          headers: {\r\n            Authorization: token,\r\n          },\r\n        })\r\n        .then(res => {\r\n          setToken(res.data.token);\r\n          success();\r\n        })\r\n        .catch(err => {\r\n          error();\r\n        });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      const subjects = user.subjects.map(subject => {\r\n        return {\r\n          value: subject,\r\n          label: subject[0].toUpperCase() + subject.slice(1),\r\n        };\r\n      });\r\n\r\n      setHelp(subjects);\r\n    }\r\n  }, [user]);\r\n\r\n  const handleSelectAvatar = (id: AVATARS) => {\r\n    user && updateUser({ ...user, avatarId: id });\r\n    setAvatarSetter(false);\r\n  };\r\n\r\n  const handleFNameUpd = () => {\r\n    if (user && fName.length > 2) {\r\n      updateUser({ ...user, firstName: fName });\r\n      setFName('');\r\n    } else {\r\n      setFWarn(true);\r\n    }\r\n  };\r\n\r\n  const handleLNameUpd = () => {\r\n    if (user && lName.length > 2) {\r\n      updateUser({ ...user, lastName: lName });\r\n      setLName('');\r\n    } else {\r\n      setLWarn(true);\r\n    }\r\n  };\r\n\r\n  const handleEmailUpd = () => {\r\n    if (user && validateEmail(email)) {\r\n      updateUser({ ...user, email: email });\r\n      setEmail('');\r\n    } else {\r\n      setEmailWarn(true);\r\n    }\r\n  };\r\n\r\n  const handleSubjectsUpd = () => {\r\n    if (user && help.length) {\r\n      const subjectsUpd = help.map(subject => {\r\n        return subject.value;\r\n      });\r\n\r\n      updateUser({ ...user, subjects: subjectsUpd as SUBJECTS[] });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div style={{ minHeight: '100vh' }}>\r\n        <NavBar />\r\n        <Flex>\r\n          <StyledCenter style={{ marginLeft: '-30rem', marginRight: '-30rem' }}>\r\n            <img\r\n              src=\"./images/hero_profile.svg\"\r\n              alt=\"Account edit\"\r\n              width=\"500rem\"\r\n            />\r\n          </StyledCenter>\r\n          <Right>\r\n            <Flex style={{ justifyContent: 'flex-end' }}>\r\n              <Header2 style={{ marginRight: '2rem' }}>\r\n                {user?.firstName} {user?.lastName}\r\n              </Header2>\r\n              <div onClick={() => setAvatarSetter(true)}>\r\n                <Avatar id={user?.avatarId as AVATARS} size=\"lg\" />\r\n              </div>\r\n            </Flex>\r\n\r\n            <Flex>\r\n              <InputIcon style={{ width: '85%' }}>\r\n                <MdPersonOutline />\r\n                <Input\r\n                  placeholder=\"First Name\"\r\n                  value={fName}\r\n                  onChange={e => {\r\n                    const val = !fName.length\r\n                      ? e.target.value.toUpperCase()\r\n                      : e.target.value;\r\n                    setFWarn(false);\r\n                    setFName(val);\r\n                  }}\r\n                  warn={fWarn}\r\n                />\r\n              </InputIcon>\r\n              <Button onClick={handleFNameUpd}>Save</Button>\r\n            </Flex>\r\n            <Flex>\r\n              <InputIcon style={{ width: '85%' }}>\r\n                <MdPersonOutline />\r\n                <Input\r\n                  placeholder=\"Last Name\"\r\n                  value={lName}\r\n                  onChange={e => {\r\n                    const val = !lName.length\r\n                      ? e.target.value.toUpperCase()\r\n                      : e.target.value;\r\n                    setLWarn(false);\r\n                    setLName(val);\r\n                  }}\r\n                  warn={lWarn}\r\n                />\r\n              </InputIcon>\r\n              <Button onClick={handleLNameUpd}>Save</Button>\r\n            </Flex>\r\n            <Flex>\r\n              <InputIcon style={{ width: '85%' }}>\r\n                <FiAtSign />\r\n                <Input\r\n                  placeholder=\"Email\"\r\n                  value={email}\r\n                  onChange={e => {\r\n                    setEmail(e.target.value);\r\n                    setEmailWarn(false);\r\n                  }}\r\n                  warn={emailWarn}\r\n                />\r\n              </InputIcon>\r\n              <Button onClick={handleEmailUpd}>Save</Button>\r\n            </Flex>\r\n            <div>\r\n              <Header3 style={{ marginTop: '3rem', marginBottom: '1rem' }}>\r\n                Your subjects\r\n              </Header3>\r\n              <StyledSelect\r\n                options={SelectSubjects}\r\n                value={help}\r\n                onChange={e => e && setHelp(e)}\r\n                isMulti\r\n              />\r\n              <Button\r\n                style={{ width: '100%', marginTop: '1rem' }}\r\n                onClick={handleSubjectsUpd}\r\n              >\r\n                Save\r\n              </Button>\r\n            </div>\r\n\r\n            <Button onClick={() => setToken(null)} secondary>\r\n              Logout\r\n            </Button>\r\n          </Right>\r\n        </Flex>\r\n      </div>\r\n      <Footer />\r\n      <CSSTransition\r\n        in={avatarSetter}\r\n        timeout={200}\r\n        classNames=\"fade-fast\"\r\n        unmountOnExit\r\n      >\r\n        <AvatarSelector\r\n          id={user?.avatarId as AVATARS}\r\n          avatarSelect={handleSelectAvatar}\r\n          close={() => setAvatarSetter(false)}\r\n        />\r\n      </CSSTransition>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import styled from '@emotion/styled';\r\n\r\nexport const Flex = styled.div`\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  align-items: center;\r\n\r\n  svg {\r\n    color: var(--color-yellow);\r\n  }\r\n`;\r\n\r\nexport const Message = styled.div`\r\n  font-size: 1.8rem;\r\n  margin-left: 1rem;\r\n  margin-top: 0.5rem;\r\n  max-width: 29rem;\r\n`;\r\n","import { FC } from 'react';\r\n\r\nimport { AiFillStar } from 'react-icons/ai';\r\n\r\nimport { Avatar } from '../Avatar';\r\nimport { Header3 } from '../Header';\r\nimport { Flex, Message } from './Rate.elements';\r\n\r\nconst Rate: FC<RateType> = ({ from, stars, message }) => {\r\n  const renderStars = (): JSX.Element[] => {\r\n    const arr = Array.from(Array(stars).keys());\r\n\r\n    return arr.map((e, index) => {\r\n      return <AiFillStar key={index} />;\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div style={{ width: '30rem' }}>\r\n      <Flex>\r\n        <Avatar id={from.avatarId} />\r\n        <div>\r\n          <Header3>\r\n            {from.firstName} {from.lastName}\r\n          </Header3>\r\n          {renderStars()}\r\n        </div>\r\n      </Flex>\r\n      <Message>{message}</Message>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Rate;\r\n","import axios from 'axios';\r\nimport { FC, useContext, useEffect, useState } from 'react';\r\nimport { Center } from '../../components/Center';\r\nimport Footer from '../../components/Footer/Footer';\r\nimport { Header1, Header3 } from '../../components/Header';\r\nimport NavBar from '../../components/NavBar/NavBar';\r\nimport Rate from '../../components/Rate/Rate';\r\nimport { loggedUserContext } from '../../context/loggedUser';\r\n\r\nconst { REACT_APP_SERVER_URL } = process.env;\r\n\r\nconst Rates: FC = () => {\r\n  const { user } = useContext(loggedUserContext);\r\n\r\n  const [rates, setRates] = useState<RateType[]>([]);\r\n  const [tempUser, setTempUser] = useState<UserType>();\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get<RateType[]>(`${REACT_APP_SERVER_URL}/rates/${user?._id}`)\r\n      .then(res => {\r\n        setRates(res.data);\r\n      });\r\n\r\n    axios\r\n      .get<UserType>(`${REACT_APP_SERVER_URL}/users/${user?._id}`)\r\n      .then(res => {\r\n        setTempUser(res.data);\r\n      });\r\n  }, [user?._id]);\r\n\r\n  const renderRates = (): JSX.Element[] => {\r\n    return rates.map((rate, index) => {\r\n      return <Rate {...rate} key={index} />;\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div style={{ minHeight: '100vh' }}>\r\n        <NavBar />\r\n        <Header1 style={{ marginBottom: '2rem' }}>Rates about you</Header1>\r\n        <Header3 style={{ marginBottom: '5rem' }}>\r\n          Your average rate: {tempUser?.rate}\r\n        </Header3>\r\n        <Center>{renderRates()}</Center>\r\n      </div>\r\n\r\n      <Footer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Rates;\r\n","import React, { FC, useContext, useState } from 'react';\r\n\r\nimport { AiFillStar } from 'react-icons/ai';\r\nimport { CSSTransition } from 'react-transition-group';\r\nimport axios from 'axios';\r\n\r\nimport { Avatar } from '../../../components/Avatar';\r\nimport { Button } from '../../../components/Button';\r\nimport { Header2, Header3 } from '../../../components/Header';\r\nimport {\r\n  Container,\r\n  Invite,\r\n  ModalHeading,\r\n  Rating,\r\n  SubjectList,\r\n} from './Teacher.elements';\r\nimport Modal from '../../../components/Modal';\r\nimport { loggedUserContext } from '../../../context/loggedUser';\r\nimport { socket } from '../../../utils/socket';\r\n\r\nconst { REACT_APP_SERVER_URL } = process.env;\r\n\r\ninterface TeacherProps extends UserType {\r\n  deleteFromList: (id: string) => void;\r\n  seeRates: (id: string) => void;\r\n}\r\n\r\nconst Teacher: FC<TeacherProps> = ({\r\n  _id,\r\n  firstName,\r\n  lastName,\r\n  price,\r\n  subjects,\r\n  avatarId,\r\n  rate,\r\n  deleteFromList,\r\n  seeRates,\r\n}) => {\r\n  const { user, token } = useContext(loggedUserContext);\r\n\r\n  const [opened, setOpened] = useState(false);\r\n  const [text, setText] = useState('');\r\n\r\n  const renderSubjects = (): JSX.Element[] => {\r\n    return subjects.map(subject => {\r\n      return (\r\n        <li key={subject}>\r\n          {subject[0].toUpperCase()}\r\n          {subject.slice(1)}\r\n        </li>\r\n      );\r\n    });\r\n  };\r\n\r\n  const handleInvite = (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n    if (token && text) {\r\n      const roomId = _id + '_' + user?._id;\r\n      socket.emit('createRoom', roomId);\r\n      // socket.emit('send', { roomId, from: user?._id, msg: text });\r\n\r\n      axios.post(\r\n        `${REACT_APP_SERVER_URL}/messages`,\r\n        {\r\n          roomId,\r\n          message: text,\r\n        },\r\n        {\r\n          headers: {\r\n            Authorization: token,\r\n          },\r\n        }\r\n      );\r\n      deleteFromList(_id);\r\n      setOpened(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <Avatar id={avatarId} />\r\n      <Header3 style={{ marginTop: '1rem', maxWidth: '18rem' }}>\r\n        {firstName} {lastName}\r\n      </Header3>\r\n      <SubjectList>{renderSubjects()}</SubjectList>\r\n\r\n      <Rating onClick={() => seeRates(_id)}>\r\n        <AiFillStar />\r\n        <Header3>\r\n          {rate} | {price}$ / h\r\n        </Header3>\r\n      </Rating>\r\n      <Button style={{ width: '100%' }} onClick={() => setOpened(true)}>\r\n        Choose\r\n      </Button>\r\n      <CSSTransition\r\n        in={opened}\r\n        timeout={200}\r\n        classNames=\"fade-fast\"\r\n        unmountOnExit\r\n      >\r\n        <Modal close={() => setOpened(false)}>\r\n          <>\r\n            <ModalHeading>\r\n              <Avatar id={avatarId} />\r\n              <Header3 style={{ marginTop: '1rem', maxWidth: '18rem' }}>\r\n                {firstName} {lastName}\r\n              </Header3>\r\n            </ModalHeading>\r\n            <form onSubmit={handleInvite}>\r\n              <Header2 style={{ marginTop: '1rem' }}>\r\n                How can I help you?\r\n              </Header2>\r\n              <Invite value={text} onChange={e => setText(e.target.value)} />\r\n              <Button style={{ width: '100%' }} type=\"submit\">\r\n                Send\r\n              </Button>\r\n            </form>\r\n          </>\r\n        </Modal>\r\n      </CSSTransition>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Teacher;\r\n","import styled from '@emotion/styled';\r\nimport { Center } from '../../../components/Center';\r\nimport { breakpoints } from '../../../styles/breakpoints';\r\nimport { scrollY } from '../../../styles/scroll';\r\n\r\nexport const List = styled.ul`\r\n  list-style: none;\r\n  display: grid;\r\n  grid-template-columns: repeat(3, 1fr);\r\n  gap: 10rem;\r\n  max-height: 60vh;\r\n  overflow-y: scroll;\r\n  margin-bottom: 4rem;\r\n\r\n  ${scrollY}\r\n`;\r\n\r\nexport const Img = styled.img`\r\n  @media screen and (max-width: ${breakpoints.lg}) {\r\n    width: 60rem;\r\n    height: 60rem;\r\n  }\r\n`;\r\n\r\nexport const SubjectList = styled.ul`\r\n  list-style: none;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 30%;\r\n  margin-left: 50%;\r\n  transform: translateX(-50%);\r\n  transition: var(--trans-default);\r\n  padding: 1rem 0;\r\n  margin-bottom: 5rem;\r\n\r\n  @media screen and (max-width: ${breakpoints.lg}) {\r\n    width: 50%;\r\n  }\r\n\r\n  .active,\r\n  li:hover {\r\n    color: var(--color-yellow);\r\n    cursor: pointer;\r\n  }\r\n\r\n  li {\r\n    color: var(--color-gray);\r\n    transition: var(--trans-default);\r\n    margin-top: 1rem;\r\n    text-align: center;\r\n\r\n    :not(:last-child) {\r\n      margin-right: 3rem;\r\n    }\r\n  }\r\n`;\r\n\r\nexport const NotFound = styled(Center)`\r\n  height: 60vh;\r\n  flex-direction: column;\r\n  margin-bottom: 4rem;\r\n\r\n  img {\r\n    padding-top: 5rem;\r\n    height: 60rem;\r\n  }\r\n`;\r\n","import { FC, useEffect, useState } from 'react';\r\n\r\nimport axios from 'axios';\r\nimport styled from '@emotion/styled';\r\n\r\nimport Modal from '../Modal';\r\nimport Rate from './Rate';\r\nimport { Header2 } from '../Header';\r\nimport { Center } from '../Center';\r\nimport { scrollY } from '../../styles/scroll';\r\n\r\nconst { REACT_APP_SERVER_URL } = process.env;\r\n\r\nconst StyledCenter = styled(Center)`\r\n  overflow-y: scroll;\r\n  ${scrollY}\r\n`;\r\n\r\nconst RatesPopup: FC<{ close: () => void; teacherId: string }> = ({\r\n  close,\r\n  teacherId,\r\n}) => {\r\n  const [rates, setRates] = useState<RateType[]>([]);\r\n\r\n  useEffect(() => {\r\n    teacherId &&\r\n      axios\r\n        .get<RateType[]>(`${REACT_APP_SERVER_URL}/rates/${teacherId}`)\r\n        .then(res => {\r\n          setRates(res.data);\r\n        });\r\n  });\r\n\r\n  const renderRates = (): JSX.Element[] => {\r\n    return rates.map((rate, index) => {\r\n      return <Rate {...rate} key={index} />;\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Modal close={close}>\r\n      <>\r\n        <Header2 style={{ marginBottom: '2rem' }}>Rates about teacher</Header2>\r\n        <StyledCenter>{renderRates()}</StyledCenter>\r\n      </>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default RatesPopup;\r\n","import { FC, useContext, useEffect, useState } from 'react';\r\n\r\nimport {\r\n  CSSTransition,\r\n  SwitchTransition,\r\n  TransitionGroup,\r\n} from 'react-transition-group';\r\nimport axios from 'axios';\r\n\r\nimport { Center } from '../../../components/Center';\r\nimport Teacher from './Teacher';\r\nimport { Img, List, NotFound, SubjectList } from './TeacherList.elements';\r\nimport '../../../styles/animations.css';\r\nimport { Header2 } from '../../../components/Header';\r\nimport { SUBJECTS } from '../../../contants';\r\nimport { loggedUserContext } from '../../../context/loggedUser';\r\nimport RatesPopup from '../../../components/Rate/RatesPopup';\r\n\r\nconst subjects: string[] = Object.values(SUBJECTS).map(subject => subject);\r\n\r\nsubjects.unshift('all');\r\n\r\nconst { REACT_APP_SERVER_URL } = process.env;\r\n\r\nconst TeacherList: FC<{ search: string }> = ({ search }) => {\r\n  const { user, token } = useContext(loggedUserContext);\r\n\r\n  const [active, setActive] = useState<typeof subjects>([]);\r\n  const [teachers, setTeachers] = useState<UserType[]>([]);\r\n  const [found, setFound] = useState(1);\r\n  const [seeRates, setSeeRates] = useState(false);\r\n  const [selectedTeacher, setSelectedTeacher] = useState('');\r\n\r\n  useEffect(() => {\r\n    setFound(1);\r\n  }, [search]);\r\n\r\n  useEffect(() => {\r\n    user && setActive(user.subjects);\r\n\r\n    axios.get<UserType[]>(`${REACT_APP_SERVER_URL}/users`).then(res => {\r\n      if (token && res.data.length) {\r\n        axios\r\n          .get<UserType[]>(`${REACT_APP_SERVER_URL}/users/chatted`, {\r\n            headers: {\r\n              Authorization: token,\r\n            },\r\n          })\r\n          .then(res1 => {\r\n            const toSet = res.data.filter(teacher => {\r\n              let isReturn = true;\r\n\r\n              res1.data.forEach(teacher1 => {\r\n                if (teacher._id === teacher1._id) isReturn = false;\r\n              });\r\n\r\n              return isReturn;\r\n            });\r\n\r\n            setTeachers(toSet);\r\n\r\n            if (toSet.length) setFound(1);\r\n          });\r\n      }\r\n    });\r\n  }, [token, user]);\r\n\r\n  useEffect(() => {\r\n    selectedTeacher ? setSeeRates(true) : setSeeRates(false);\r\n  }, [selectedTeacher]);\r\n\r\n  const handleActiveClick = (subject: string) => {\r\n    setFound(1);\r\n\r\n    if (subject === 'all') {\r\n      setActive(['all']);\r\n      return;\r\n    }\r\n\r\n    let tempR = false;\r\n    active.forEach(act => {\r\n      if (act === subject) tempR = true;\r\n    });\r\n    if (tempR) {\r\n      const preActive = active.filter(e => e !== subject);\r\n      if (!preActive.length) {\r\n        setActive(['all']);\r\n        return;\r\n      }\r\n      setActive(prev => prev.filter(e => e !== subject));\r\n      return;\r\n    }\r\n\r\n    setActive(prev => [...prev, subject].filter(e => e !== 'all'));\r\n  };\r\n\r\n  const renderSubjects = (active: string[]): JSX.Element[] => {\r\n    return subjects.map(subject => {\r\n      let tempAct = false;\r\n      active.forEach(act => {\r\n        if (subject === act) tempAct = true;\r\n      });\r\n\r\n      return (\r\n        <li\r\n          key={subject}\r\n          className={tempAct ? 'active' : ''}\r\n          onClick={() => handleActiveClick(subject)}\r\n        >\r\n          {subject[0].toUpperCase()}\r\n          {subject.slice(1)}\r\n        </li>\r\n      );\r\n    });\r\n  };\r\n\r\n  const handleSeeRates = (id: string) => {\r\n    setSelectedTeacher(id);\r\n  };\r\n\r\n  const renderTeachers = (): JSX.Element[] => {\r\n    const tempTeachers =\r\n      active[0] === 'all'\r\n        ? teachers\r\n        : teachers\r\n            .filter(teacher => {\r\n              let ret = false;\r\n              teacher.subjects.forEach(subject => {\r\n                active.forEach(act => {\r\n                  if (act === subject) ret = true;\r\n                });\r\n              });\r\n\r\n              return ret;\r\n            })\r\n            .filter(teacher => {\r\n              return (\r\n                teacher.firstName.toLowerCase() +\r\n                ' ' +\r\n                teacher.lastName.toLowerCase()\r\n              ).includes(search.toLowerCase());\r\n            });\r\n\r\n    if (!tempTeachers[0] && found) setFound(0);\r\n    else if (tempTeachers[0] && !found) setFound(1);\r\n\r\n    const deleteFromList = (id: string) => {\r\n      setTeachers(prev => prev.filter(teacher => teacher._id !== id));\r\n    };\r\n\r\n    return tempTeachers.map(teacher => {\r\n      return (\r\n        <CSSTransition key={teacher._id} timeout={200} classNames=\"slide\">\r\n          <li>\r\n            <Teacher\r\n              {...teacher}\r\n              deleteFromList={deleteFromList}\r\n              seeRates={handleSeeRates}\r\n            />\r\n          </li>\r\n        </CSSTransition>\r\n      );\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <SubjectList>{renderSubjects(active)}</SubjectList>\r\n\r\n      <Center>\r\n        <SwitchTransition mode=\"out-in\">\r\n          <CSSTransition timeout={200} classNames=\"fade-fast\" key={found}>\r\n            {found ? (\r\n              <List>\r\n                <TransitionGroup component={null}>\r\n                  {renderTeachers()}\r\n                </TransitionGroup>\r\n              </List>\r\n            ) : (\r\n              <NotFound>\r\n                <Header2>No teacher found</Header2>\r\n\r\n                <Img src=\"/images/hero_no_results.svg\" alt=\"No teacher found\" />\r\n              </NotFound>\r\n            )}\r\n          </CSSTransition>\r\n        </SwitchTransition>\r\n      </Center>\r\n      <CSSTransition\r\n        in={seeRates}\r\n        timeout={200}\r\n        classNames=\"fade-fast\"\r\n        unmountOnExit\r\n      >\r\n        <RatesPopup\r\n          teacherId={selectedTeacher}\r\n          close={() => setSelectedTeacher('')}\r\n        />\r\n      </CSSTransition>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TeacherList;\r\n","import { FC, useState } from 'react';\r\n\r\nimport styled from '@emotion/styled';\r\n\r\nimport { Button } from '../../components/Button';\r\nimport { Header1, Header2, SmallHeader } from '../../components/Header';\r\nimport { Center } from '../../components/Center';\r\nimport Footer from '../../components/Footer/Footer';\r\nimport NavBar from '../../components/NavBar/NavBar';\r\nimport { Input, InputIcon } from '../../components/Input';\r\nimport { AiOutlineSearch } from 'react-icons/ai';\r\nimport TeacherList from './components/TeacherList';\r\nimport { breakpoints } from '../../styles/breakpoints';\r\n\r\nconst StyledInIcon = styled(InputIcon)`\r\n  width: 60rem;\r\n\r\n  @media screen and (max-width: ${breakpoints.sm}) {\r\n    width: 30rem;\r\n  }\r\n`;\r\n\r\nconst Teachers: FC = () => {\r\n  const [search, setSearch] = useState('');\r\n  const [tempSearch, setTempSearch] = useState('');\r\n\r\n  return (\r\n    <div>\r\n      <div style={{ minHeight: '100vh' }}>\r\n        <NavBar />\r\n        <Header1>\r\n          Learn Anytime, Anywhere <br /> and Accelerate Future\r\n        </Header1>\r\n        <SmallHeader style={{ marginBottom: '5rem' }}>\r\n          We believe everyone can make something amazing!\r\n        </SmallHeader>\r\n        <form\r\n          onSubmit={e => {\r\n            e.preventDefault();\r\n            setSearch(tempSearch);\r\n          }}\r\n        >\r\n          <Center style={{ marginBottom: '5rem' }}>\r\n            <StyledInIcon>\r\n              <AiOutlineSearch />\r\n              <Input\r\n                placeholder=\"Search for teachers\"\r\n                value={tempSearch}\r\n                onChange={e => setTempSearch(e.target.value)}\r\n              />\r\n            </StyledInIcon>\r\n            <Button style={{ padding: '1.4rem 4rem' }}>Search</Button>\r\n          </Center>\r\n        </form>\r\n        <Header2>Popular Teachers</Header2>\r\n        <TeacherList search={search} />\r\n      </div>\r\n      <Footer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Teachers;\r\n","import { FC, useContext, useEffect } from 'react';\r\n\r\nimport { Redirect, Route, Switch, useHistory, useLocation } from 'react-router';\r\nimport { CSSTransition, TransitionGroup } from 'react-transition-group';\r\nimport { loggedUserContext } from '../context/loggedUser';\r\nimport Chats from '../pages/Chats/Chats';\r\n\r\nimport Hero from '../pages/hero/Hero';\r\nimport Login from '../pages/login/Login';\r\nimport Register from '../pages/login/Register';\r\nimport Profile from '../pages/profile/Profile';\r\nimport Rates from '../pages/rates/Rates';\r\nimport Teachers from '../pages/teachers/Teachers';\r\n\r\nimport '../styles/animations.css';\r\n\r\nconst AnimatedRouter: FC = (): JSX.Element => {\r\n  const { user } = useContext(loggedUserContext);\r\n\r\n  const location = useLocation();\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    window.scrollTo({ top: 0, behavior: 'smooth' });\r\n\r\n    const { pathname } = location;\r\n\r\n    if (\r\n      (pathname !== '/' &&\r\n        pathname !== '/register' &&\r\n        pathname !== '/login' &&\r\n        !user) ||\r\n      (user && (pathname === '/login' || pathname === '/register'))\r\n    )\r\n      history.push('/');\r\n  }, [location, user, history]);\r\n\r\n  return (\r\n    <div style={{ position: 'relative' }}>\r\n      <TransitionGroup component={null}>\r\n        <CSSTransition\r\n          timeout={700}\r\n          classNames={\r\n            location.pathname === '/login' || location.pathname === '/register'\r\n              ? 'right'\r\n              : location.pathname === '/'\r\n              ? user?._id\r\n                ? 'fade'\r\n                : 'left'\r\n              : 'fade'\r\n          }\r\n          key={location.pathname}\r\n          unmountOnExit\r\n        >\r\n          <Switch location={location}>\r\n            <Route exact path=\"/profile\">\r\n              <Profile />\r\n            </Route>\r\n            <Route exact path=\"/register\">\r\n              <Register />\r\n            </Route>\r\n            <Route exact path=\"/login\">\r\n              <Login />\r\n            </Route>\r\n            <Route exact path=\"/discover\">\r\n              {user?.userType === 'teacher' ? <Rates /> : <Teachers />}\r\n            </Route>\r\n            <Route exact path=\"/\">\r\n              {user?._id ? <Chats /> : <Hero />}\r\n            </Route>\r\n            <Route path=\"*\">\r\n              <Redirect to=\"/\" />\r\n            </Route>\r\n          </Switch>\r\n        </CSSTransition>\r\n      </TransitionGroup>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AnimatedRouter;\r\n","import { FC } from 'react';\r\n\r\nimport { HashRouter as Router } from 'react-router-dom';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { ToastContainer } from 'react-toastify';\r\n\r\nimport { GlobalStyles } from '../styles/GlobalStyles';\r\nimport AnimatedRouter from './AnimatedRouter';\r\nimport LoggedUserProvider from '../context/loggedUser';\r\n\r\nconst App: FC = () => {\r\n  return (\r\n    <LoggedUserProvider>\r\n      <GlobalStyles />\r\n      <ToastContainer />\r\n      <Router>\r\n        <AnimatedRouter />\r\n      </Router>\r\n    </LoggedUserProvider>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import ReactDOM from 'react-dom';\r\n\r\nimport App from './components/App';\r\n\r\nconst root = document.getElementById('root') as HTMLElement;\r\n\r\nReactDOM.render(<App />, root);\r\n\r\n// TODO:\r\n// PROFIL\r\n// PORTFEL\r\n// OCENIANIE\r\n// NA TELEFONY\r\n// ?DODAWANIE PLIKOW / ZDJEC\r\n// ?JAKIS PROSTY POKOJ Z KAMERKA (BARDZO PROSTY)\r\n"],"sourceRoot":""}